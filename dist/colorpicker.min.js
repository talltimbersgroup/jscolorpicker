"use strict";var It=Object.defineProperty,Wt=(t,e,n)=>e in t?It(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e,n)=>Wt(t,typeof e!="symbol"?e+"":e,n);function Bt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ke={exports:{}},ee=typeof Reflect=="object"?Reflect:null,Ye=ee&&typeof ee.apply=="function"?ee.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},be;ee&&typeof ee.ownKeys=="function"?be=ee.ownKeys:Object.getOwnPropertySymbols?be=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:be=function(t){return Object.getOwnPropertyNames(t)};function Rt(t){console&&console.warn&&console.warn(t)}var ze=Number.isNaN||function(t){return t!==t};function m(){m.init.call(this)}ke.exports=m,ke.exports.once=Vt,m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var Ze=10;function xe(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return Ze},set:function(t){if(typeof t!="number"||t<0||ze(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ze=t}}),m.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ze(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function et(t){return t._maxListeners===void 0?m.defaultMaxListeners:t._maxListeners}m.prototype.getMaxListeners=function(){return et(this)},m.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var s=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw s.context=r,s}var a=o[t];if(a===void 0)return!1;if(typeof a=="function")Ye(a,this,e);else for(var l=a.length,c=rt(a,l),n=0;n<l;++n)Ye(c[n],this,e);return!0};function tt(t,e,n,i){var o,r,s;if(xe(n),r=t._events,r===void 0?(r=t._events=Object.create(null),t._eventsCount=0):(r.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),r=t._events),s=r[e]),s===void 0)s=r[e]=n,++t._eventsCount;else if(typeof s=="function"?s=r[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),o=et(t),o>0&&s.length>o&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,Rt(a)}return t}m.prototype.addListener=function(t,e){return tt(this,t,e,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(t,e){return tt(this,t,e,!0)};function qt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nt(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=qt.bind(i);return o.listener=n,i.wrapFn=o,o}m.prototype.once=function(t,e){return xe(e),this.on(t,nt(this,t,e)),this},m.prototype.prependOnceListener=function(t,e){return xe(e),this.prependListener(t,nt(this,t,e)),this},m.prototype.removeListener=function(t,e){var n,i,o,r,s;if(xe(e),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(o=-1,r=n.length-1;r>=0;r--)if(n[r]===e||n[r].listener===e){s=n[r].listener,o=r;break}if(o<0)return this;o===0?n.shift():Nt(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||e)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),r;for(i=0;i<o.length;++i)r=o[i],r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this};function it(t,e,n){var i=t._events;if(i===void 0)return[];var o=i[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?Ft(o):rt(o,o.length)}m.prototype.listeners=function(t){return it(this,t,!0)},m.prototype.rawListeners=function(t){return it(this,t,!1)},m.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ot.call(t,e)},m.prototype.listenerCount=ot;function ot(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}m.prototype.eventNames=function(){return this._eventsCount>0?be(this._events):[]};function rt(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function Nt(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Ft(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Vt(t,e){return new Promise(function(n,i){function o(s){t.removeListener(e,r),i(s)}function r(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}st(t,e,r,{once:!0}),e!=="error"&&Ut(t,o,{once:!0})})}function Ut(t,e,n){typeof t.on=="function"&&st(t,"error",e,n)}function st(t,e,n,i){if(typeof t.on=="function")i.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(r){i.once&&t.removeEventListener(e,o),n(r)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var at=ke.exports;const Jt=Bt(at);var j="top",M="bottom",T="right",D="left",je="auto",le=[j,M,T,D],te="start",ce="end",Gt="clippingParents",lt="viewport",ue="popper",Kt="reference",ct=le.reduce(function(t,e){return t.concat([e+"-"+te,e+"-"+ce])},[]),ut=[].concat(le,[je]).reduce(function(t,e){return t.concat([e,e+"-"+te,e+"-"+ce])},[]),Qt="beforeRead",Xt="read",Yt="afterRead",zt="beforeMain",Zt="main",en="afterMain",tn="beforeWrite",nn="write",on="afterWrite",rn=[Qt,Xt,Yt,zt,Zt,en,tn,nn,on];function R(t){return t?(t.nodeName||"").toLowerCase():null}function H(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Y(t){var e=H(t).Element;return t instanceof e||t instanceof Element}function I(t){var e=H(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function De(t){if(typeof ShadowRoot>"u")return!1;var e=H(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function sn(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},o=e.attributes[n]||{},r=e.elements[n];!I(r)||!R(r)||(Object.assign(r.style,i),Object.keys(o).forEach(function(s){var a=o[s];a===!1?r.removeAttribute(s):r.setAttribute(s,a===!0?"":a)}))})}function an(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],r=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!I(o)||!R(o)||(Object.assign(o.style,a),Object.keys(r).forEach(function(l){o.removeAttribute(l)}))})}}const ln={name:"applyStyles",enabled:!0,phase:"write",fn:sn,effect:an,requires:["computeStyles"]};function q(t){return t.split("-")[0]}var z=Math.max,_e=Math.min,ne=Math.round;function Pe(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pt(){return!/^((?!chrome|android).)*safari/i.test(Pe())}function ie(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),o=1,r=1;e&&I(t)&&(o=t.offsetWidth>0&&ne(i.width)/t.offsetWidth||1,r=t.offsetHeight>0&&ne(i.height)/t.offsetHeight||1);var s=Y(t)?H(t):window,a=s.visualViewport,l=!pt()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/o,u=(i.top+(l&&a?a.offsetTop:0))/r,d=i.width/o,h=i.height/r;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function He(t){var e=ie(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function ft(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&De(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function F(t){return H(t).getComputedStyle(t)}function cn(t){return["table","td","th"].indexOf(R(t))>=0}function U(t){return((Y(t)?t.ownerDocument:t.document)||window.document).documentElement}function Le(t){return R(t)==="html"?t:t.assignedSlot||t.parentNode||(De(t)?t.host:null)||U(t)}function ht(t){return!I(t)||F(t).position==="fixed"?null:t.offsetParent}function un(t){var e=/firefox/i.test(Pe()),n=/Trident/i.test(Pe());if(n&&I(t)){var i=F(t);if(i.position==="fixed")return null}var o=Le(t);for(De(o)&&(o=o.host);I(o)&&["html","body"].indexOf(R(o))<0;){var r=F(o);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return o;o=o.parentNode}return null}function pe(t){for(var e=H(t),n=ht(t);n&&cn(n)&&F(n).position==="static";)n=ht(n);return n&&(R(n)==="html"||R(n)==="body"&&F(n).position==="static")?e:n||un(t)||e}function Me(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fe(t,e,n){return z(t,_e(e,n))}function pn(t,e,n){var i=fe(t,e,n);return i>n?n:i}function dt(){return{top:0,right:0,bottom:0,left:0}}function vt(t){return Object.assign({},dt(),t)}function mt(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var fn=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,vt(typeof t!="number"?t:mt(t,le))};function hn(t){var e,n=t.state,i=t.name,o=t.options,r=n.elements.arrow,s=n.modifiersData.popperOffsets,a=q(n.placement),l=Me(a),c=[D,T].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!s)){var d=fn(o.padding,n),h=He(r),f=l==="y"?j:D,w=l==="y"?M:T,p=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],b=pe(r),L=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,O=p/2-y/2,v=d[f],g=L-h[u]-d[w],x=L/2-h[u]/2+O,$=fe(v,x,g),C=l;n.modifiersData[i]=(e={},e[C]=$,e.centerOffset=$-x,e)}}function dn(t){var e=t.state,n=t.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||ft(e.elements.popper,o)&&(e.elements.arrow=o))}const vn={name:"arrow",enabled:!0,phase:"main",fn:hn,effect:dn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oe(t){return t.split("-")[1]}var mn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gn(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:ne(n*o)/o||0,y:ne(i*o)/o||0}}function gt(t){var e,n=t.popper,i=t.popperRect,o=t.placement,r=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,f=h===void 0?0:h,w=s.y,p=w===void 0?0:w,y=typeof u=="function"?u({x:f,y:p}):{x:f,y:p};f=y.x,p=y.y;var b=s.hasOwnProperty("x"),L=s.hasOwnProperty("y"),O=D,v=j,g=window;if(c){var x=pe(n),$="clientHeight",C="clientWidth";if(x===H(n)&&(x=U(n),F(x).position!=="static"&&a==="absolute"&&($="scrollHeight",C="scrollWidth")),x=x,o===j||(o===D||o===T)&&r===ce){v=M;var E=d&&x===g&&g.visualViewport?g.visualViewport.height:x[$];p-=E-i.height,p*=l?1:-1}if(o===D||(o===j||o===M)&&r===ce){O=T;var A=d&&x===g&&g.visualViewport?g.visualViewport.width:x[C];f-=A-i.width,f*=l?1:-1}}var S=Object.assign({position:a},c&&mn),W=u===!0?gn({x:f,y:p},H(n)):{x:f,y:p};if(f=W.x,p=W.y,l){var k;return Object.assign({},S,(k={},k[v]=L?"0":"",k[O]=b?"0":"",k.transform=(g.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",k))}return Object.assign({},S,(e={},e[v]=L?p+"px":"",e[O]=b?f+"px":"",e.transform="",e))}function yn(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=i===void 0?!0:i,r=n.adaptive,s=r===void 0?!0:r,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:q(e.placement),variation:oe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const wn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yn,data:{}};var Oe={passive:!0};function bn(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,r=o===void 0?!0:o,s=i.resize,a=s===void 0?!0:s,l=H(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",n.update,Oe)}),a&&l.addEventListener("resize",n.update,Oe),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Oe)}),a&&l.removeEventListener("resize",n.update,Oe)}}const xn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bn,data:{}};var _n={left:"right",right:"left",bottom:"top",top:"bottom"};function $e(t){return t.replace(/left|right|bottom|top/g,function(e){return _n[e]})}var Ln={start:"end",end:"start"};function yt(t){return t.replace(/start|end/g,function(e){return Ln[e]})}function Te(t){var e=H(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Ie(t){return ie(U(t)).left+Te(t).scrollLeft}function On(t,e){var n=H(t),i=U(t),o=n.visualViewport,r=i.clientWidth,s=i.clientHeight,a=0,l=0;if(o){r=o.width,s=o.height;var c=pt();(c||!c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:s,x:a+Ie(t),y:l}}function $n(t){var e,n=U(t),i=Te(t),o=(e=t.ownerDocument)==null?void 0:e.body,r=z(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=z(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-i.scrollLeft+Ie(t),l=-i.scrollTop;return F(o||n).direction==="rtl"&&(a+=z(n.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}function We(t){var e=F(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function wt(t){return["html","body","#document"].indexOf(R(t))>=0?t.ownerDocument.body:I(t)&&We(t)?t:wt(Le(t))}function he(t,e){var n;e===void 0&&(e=[]);var i=wt(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),r=H(i),s=o?[r].concat(r.visualViewport||[],We(i)?i:[]):i,a=e.concat(s);return o?a:a.concat(he(Le(s)))}function Be(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Cn(t,e){var n=ie(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bt(t,e,n){return e===lt?Be(On(t,n)):Y(e)?Cn(e,n):Be($n(U(t)))}function En(t){var e=he(Le(t)),n=["absolute","fixed"].indexOf(F(t).position)>=0,i=n&&I(t)?pe(t):t;return Y(i)?e.filter(function(o){return Y(o)&&ft(o,i)&&R(o)!=="body"}):[]}function An(t,e,n,i){var o=e==="clippingParents"?En(t):[].concat(e),r=[].concat(o,[n]),s=r[0],a=r.reduce(function(l,c){var u=bt(t,c,i);return l.top=z(u.top,l.top),l.right=_e(u.right,l.right),l.bottom=_e(u.bottom,l.bottom),l.left=z(u.left,l.left),l},bt(t,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xt(t){var e=t.reference,n=t.element,i=t.placement,o=i?q(i):null,r=i?oe(i):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(o){case j:l={x:s,y:e.y-n.height};break;case M:l={x:s,y:e.y+e.height};break;case T:l={x:e.x+e.width,y:a};break;case D:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=o?Me(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case te:l[c]=l[c]-(e[u]/2-n[u]/2);break;case ce:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function de(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?t.placement:i,r=n.strategy,s=r===void 0?t.strategy:r,a=n.boundary,l=a===void 0?Gt:a,c=n.rootBoundary,u=c===void 0?lt:c,d=n.elementContext,h=d===void 0?ue:d,f=n.altBoundary,w=f===void 0?!1:f,p=n.padding,y=p===void 0?0:p,b=vt(typeof y!="number"?y:mt(y,le)),L=h===ue?Kt:ue,O=t.rects.popper,v=t.elements[w?L:h],g=An(Y(v)?v:v.contextElement||U(t.elements.popper),l,u,s),x=ie(t.elements.reference),$=xt({reference:x,element:O,strategy:"absolute",placement:o}),C=Be(Object.assign({},O,$)),E=h===ue?C:x,A={top:g.top-E.top+b.top,bottom:E.bottom-g.bottom+b.bottom,left:g.left-E.left+b.left,right:E.right-g.right+b.right},S=t.modifiersData.offset;if(h===ue&&S){var W=S[o];Object.keys(A).forEach(function(k){var J=[T,M].indexOf(k)>=0?1:-1,G=[j,M].indexOf(k)>=0?"y":"x";A[k]+=W[G]*J})}return A}function Sn(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,r=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?ut:l,u=oe(i),d=u?a?ct:ct.filter(function(w){return oe(w)===u}):le,h=d.filter(function(w){return c.indexOf(w)>=0});h.length===0&&(h=d);var f=h.reduce(function(w,p){return w[p]=de(t,{placement:p,boundary:o,rootBoundary:r,padding:s})[q(p)],w},{});return Object.keys(f).sort(function(w,p){return f[w]-f[p]})}function kn(t){if(q(t)===je)return[];var e=$e(t);return[yt(t),e,yt(e)]}function jn(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,r=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,w=f===void 0?!0:f,p=n.allowedAutoPlacements,y=e.options.placement,b=q(y),L=b===y,O=l||(L||!w?[$e(y)]:kn(y)),v=[y].concat(O).reduce(function(Q,N){return Q.concat(q(N)===je?Sn(e,{placement:N,boundary:u,rootBoundary:d,padding:c,flipVariations:w,allowedAutoPlacements:p}):N)},[]),g=e.rects.reference,x=e.rects.popper,$=new Map,C=!0,E=v[0],A=0;A<v.length;A++){var S=v[A],W=q(S),k=oe(S)===te,J=[j,M].indexOf(W)>=0,G=J?"width":"height",P=de(e,{placement:S,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),B=J?k?T:D:k?M:j;g[G]>x[G]&&(B=$e(B));var ve=$e(B),K=[];if(r&&K.push(P[W]<=0),a&&K.push(P[B]<=0,P[ve]<=0),K.every(function(Q){return Q})){E=S,C=!1;break}$.set(S,K)}if(C)for(var me=w?3:1,Ee=function(Q){var N=v.find(function(ye){var ae=$.get(ye);if(ae)return ae.slice(0,Q).every(function(Z){return Z})});if(N)return E=N,"break"},se=me;se>0;se--){var ge=Ee(se);if(ge==="break")break}e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}}const Dn={name:"flip",enabled:!0,phase:"main",fn:jn,requiresIfExists:["offset"],data:{_skip:!1}};function _t(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Lt(t){return[j,T,M,D].some(function(e){return t[e]>=0})}function Pn(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,r=e.modifiersData.preventOverflow,s=de(e,{elementContext:"reference"}),a=de(e,{altBoundary:!0}),l=_t(s,i),c=_t(a,o,r),u=Lt(l),d=Lt(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Hn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pn};function Mn(t,e,n){var i=q(t),o=[D,j].indexOf(i)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[D,T].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function Tn(t){var e=t.state,n=t.options,i=t.name,o=n.offset,r=o===void 0?[0,0]:o,s=ut.reduce(function(u,d){return u[d]=Mn(d,e.rects,r),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}const In={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tn};function Wn(t){var e=t.state,n=t.name;e.modifiersData[n]=xt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Bn={name:"popperOffsets",enabled:!0,phase:"read",fn:Wn,data:{}};function Rn(t){return t==="x"?"y":"x"}function qn(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,r=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,w=n.tetherOffset,p=w===void 0?0:w,y=de(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=q(e.placement),L=oe(e.placement),O=!L,v=Me(b),g=Rn(v),x=e.modifiersData.popperOffsets,$=e.rects.reference,C=e.rects.popper,E=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,A=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(x){if(r){var k,J=v==="y"?j:D,G=v==="y"?M:T,P=v==="y"?"height":"width",B=x[v],ve=B+y[J],K=B-y[G],me=f?-C[P]/2:0,Ee=L===te?$[P]:C[P],se=L===te?-C[P]:-$[P],ge=e.elements.arrow,Q=f&&ge?He(ge):{width:0,height:0},N=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:dt(),ye=N[J],ae=N[G],Z=fe(0,$[P],Q[P]),kt=O?$[P]/2-me-Z-ye-A.mainAxis:Ee-Z-ye-A.mainAxis,jt=O?-$[P]/2+me+Z+ae+A.mainAxis:se+Z+ae+A.mainAxis,Ae=e.elements.arrow&&pe(e.elements.arrow),Dt=Ae?v==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,Ne=(k=S?.[v])!=null?k:0,Pt=B+kt-Ne-Dt,Ht=B+jt-Ne,Fe=fe(f?_e(ve,Pt):ve,B,f?z(K,Ht):K);x[v]=Fe,W[v]=Fe-B}if(a){var Ve,Mt=v==="x"?j:D,Tt=v==="x"?M:T,X=x[g],we=g==="y"?"height":"width",Ue=X+y[Mt],Je=X-y[Tt],Se=[j,D].indexOf(b)!==-1,Ge=(Ve=S?.[g])!=null?Ve:0,Ke=Se?Ue:X-$[we]-C[we]-Ge+A.altAxis,Qe=Se?X+$[we]+C[we]-Ge-A.altAxis:Je,Xe=f&&Se?pn(Ke,X,Qe):fe(f?Ke:Ue,X,f?Qe:Je);x[g]=Xe,W[g]=Xe-X}e.modifiersData[i]=W}}const Nn={name:"preventOverflow",enabled:!0,phase:"main",fn:qn,requiresIfExists:["offset"]};function Fn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Vn(t){return t===H(t)||!I(t)?Te(t):Fn(t)}function Un(t){var e=t.getBoundingClientRect(),n=ne(e.width)/t.offsetWidth||1,i=ne(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Jn(t,e,n){n===void 0&&(n=!1);var i=I(e),o=I(e)&&Un(e),r=U(e),s=ie(t,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((R(e)!=="body"||We(r))&&(a=Vn(e)),I(e)?(l=ie(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Ie(r))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Gn(t){var e=new Map,n=new Set,i=[];t.forEach(function(r){e.set(r.name,r)});function o(r){n.add(r.name);var s=[].concat(r.requires||[],r.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&o(l)}}),i.push(r)}return t.forEach(function(r){n.has(r.name)||o(r)}),i}function Kn(t){var e=Gn(t);return rn.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function Qn(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Xn(t){var e=t.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Yn(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,r=o===void 0?Ot:o;return function(s,a,l){l===void 0&&(l=r);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,r),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},u=[],d=!1,h={state:c,setOptions:function(p){var y=typeof p=="function"?p(c.options):p;w(),c.options=Object.assign({},r,c.options,y),c.scrollParents={reference:Y(s)?he(s):s.contextElement?he(s.contextElement):[],popper:he(a)};var b=Kn(Xn([].concat(i,c.options.modifiers)));return c.orderedModifiers=b.filter(function(L){return L.enabled}),f(),h.update()},forceUpdate:function(){if(!d){var p=c.elements,y=p.reference,b=p.popper;if($t(y,b)){c.rects={reference:Jn(y,pe(b),c.options.strategy==="fixed"),popper:He(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var L=0;L<c.orderedModifiers.length;L++){if(c.reset===!0){c.reset=!1,L=-1;continue}var O=c.orderedModifiers[L],v=O.fn,g=O.options,x=g===void 0?{}:g,$=O.name;typeof v=="function"&&(c=v({state:c,options:x,name:$,instance:h})||c)}}}},update:Qn(function(){return new Promise(function(p){h.forceUpdate(),p(c)})}),destroy:function(){w(),d=!0}};if(!$t(s,a))return h;h.setOptions(l).then(function(p){!d&&l.onFirstUpdate&&l.onFirstUpdate(p)});function f(){c.orderedModifiers.forEach(function(p){var y=p.name,b=p.options,L=b===void 0?{}:b,O=p.effect;if(typeof O=="function"){var v=O({state:c,name:y,instance:h,options:L}),g=function(){};u.push(v||g)}})}function w(){u.forEach(function(p){return p()}),u=[]}return h}}var zn=[xn,Bn,wn,ln,In,Dn,Nn,vn,Hn],Zn=Yn({defaultModifiers:zn});const ei=([t,e,n,i])=>{const o=Math.max(t,e,n),r=o-Math.min(t,e,n),s=r&&(o==t?(e-n)/r:o==e?2+(n-t)/r:4+(t-e)/r);return[60*(s<0?s+6:s),o&&r/o,o,i]},Ct=t=>t.replace(/[^0-9%.,]/g,"").split(",").map(e=>parseFloat(e)/(e.endsWith("%")?100:1)),ti=t=>{const e=document.createElement("span");e.style.display="none",e.style.color=t,document.body.append(e);const{color:n}=getComputedStyle(e);if(e.remove(),!n)return null;const[i,o,r,s]=Ct(n);return ei([i/255,o/255,r/255,s])},ni=t=>{const e=Ct(t).map((n,i)=>Math.min(n,i?1:255));return e.length<3||e.some(n=>isNaN(n))?null:e},Et=t=>{let e;/^hsva?\(/i.test(t)?e="hsv":/^hsla?\(/i.test(t)?e="hsl":/^rgba?\(/i.test(t)?e="rgb":e="hex";const n=e==="hsv"?ni(t):ti(t);if(!n)throw new Error("Color could not be parsed!");return n[3]=n[3]??1,{color:n,format:e}},re=t=>t.toFixed(),ii=(t,e)=>(""+ +t.toFixed(e)).replace(/^0\./g,"."),oi=([t,e,n,i])=>{const o=n-n*e/2,r=Math.min(o,1-o);return[t,r?(n-o)/r:0,o,i]},At=([t,e,n,i])=>{const o=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[o(5),o(3),o(1),i]},Re=([t,e,n,i],o)=>{const r=i<1?"a":"",s=o.startsWith("hs")?[re(t),re(e*100)+"%",re(n*100)+"%"]:[re(t*255),re(e*255),re(n*255)];return r&&s.push(ii(i,2)),`${o}${r}(${s.join()})`},ri=t=>"#"+t.slice(0,t[3]<1?4:3).map(e=>Math.round(e*255).toString(16).padStart(2,"0")).join(""),si=(t,e)=>e==="hsv"?Re(t,e):e==="hsl"?Re(oi(t),e):e==="rgb"?Re(At(t),e):ri(At(t));class V{constructor(e){if(_(this,"color"),!e)this.color=[0,0,0,1];else if(e instanceof V)this.color=[...e.color];else if(Array.isArray(e)){const[n=0,i=0,o=0,r=1]=e;this.color=[n,i,o,r]}else this.color=Et(e).color}getSet(e,n){if(n===void 0)return this.color[e];const i=[...this.color];return i[e]=n,new V(i)}hue(e){return this.getSet(0,e)}saturation(e){return this.getSet(1,e)}value(e){return this.getSet(2,e)}alpha(e){return this.getSet(3,e)}string(e){return si(this.color,e)}toString(){return this.string("hex")}clone(){return new V(this)}}class qe extends Jt{constructor(e){super(),_(this,"x",0),_(this,"y",0),_(this,"$track"),_(this,"$thumb"),this.$track=e,this.$thumb=e.querySelector(".cp_thumb"),this.$track.addEventListener("pointerdown",n=>{this.$track.setPointerCapture(n.pointerId),this.handleDrag(n),n.preventDefault()}),this.$track.addEventListener("pointermove",n=>{this.$track.hasPointerCapture(n.pointerId)&&(this.handleDrag(n),n.preventDefault())}),this.$track.addEventListener("pointerup",n=>{this.$track.releasePointerCapture(n.pointerId),this.$thumb.focus(),n.preventDefault()}),this.$track.addEventListener("keydown",n=>{n.key==="ArrowLeft"?(this.handleNudge(-1,0,n.shiftKey),n.preventDefault()):n.key==="ArrowRight"?(this.handleNudge(1,0,n.shiftKey),n.preventDefault()):n.key==="ArrowUp"?(this.handleNudge(0,-1,n.shiftKey),n.preventDefault()):n.key==="ArrowDown"&&(this.handleNudge(0,1,n.shiftKey),n.preventDefault())})}handleDrag(e){const n=this.$track.getBoundingClientRect();this.fireDrag((e.clientX-n.x)/n.width,(e.clientY-n.y)/n.height)}handleNudge(e,n,i){const o=i?.1:.01;this.fireDrag(this.x+e*o,this.y+n*o)}fireDrag(e,n){e<0?e=0:e>1&&(e=1),n<0?n=0:n>1&&(n=1),this.emit("drag",e,n)}move(e,n){e!==void 0&&(this.x=e,this.$thumb.style.left=`${e*100}%`),n!==void 0&&(this.y=n,this.$thumb.style.top=`${n*100}%`)}}const ai={headless:!1,toggleStyle:"button",container:null,defaultColor:null,swatches:null,swatchesOnly:!1,enableAlpha:!0,enableEyedropper:!0,formats:["hex","rgb","hsv","hsl"],defaultFormat:"hex",submitMode:"confirm",showClearButton:!0,dismissOnOutsideClick:!0,dismissOnEscape:!0,dialogPlacement:"top",dialogOffset:8},St=t=>t?t instanceof HTMLElement?t:document.querySelector(t):null,li='<div class=cp_dialog><div class="cp_area cp_area-hsv"><div class=cp_thumb tabindex=0></div></div><div class=cp_dialog-inner><div class="cp_slider cp_slider-hue"><div class=cp_thumb tabindex=0></div></div><div class="cp_slider cp_slider-alpha"><div class=cp_thumb tabindex=0></div></div><div class=cp_swatches></div><div class=cp_formats></div><div class=cp_input-group><div class=cp_sample></div><input autocomplete=false class=cp_value spellcheck=false value=#ff0000> <button class="cp_action cp_eyedrop"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="m207.8 87.6l-25.37 25.53l4.89 4.88a16 16 0 0 1 0 22.64l-9 9a8 8 0 0 1-11.32 0l-60.68-60.7a8 8 0 0 1 0-11.32l9-9a16 16 0 0 1 22.63 0l4.88 4.89l25-25.11c10.79-10.79 28.37-11.45 39.45-1a28 28 0 0 1 .52 40.19"opacity=0.2 /><path d="M224 67.3a35.8 35.8 0 0 0-11.26-25.66c-14-13.28-36.72-12.78-50.62 1.13L142.8 62.2a24 24 0 0 0-33.14.77l-9 9a16 16 0 0 0 0 22.64l2 2.06l-51 51a39.75 39.75 0 0 0-10.53 38l-8 18.41A13.68 13.68 0 0 0 36 219.3a15.92 15.92 0 0 0 17.71 3.35L71.23 215a39.89 39.89 0 0 0 37.06-10.75l51-51l2.06 2.06a16 16 0 0 0 22.62 0l9-9a24 24 0 0 0 .74-33.18l19.75-19.87A35.75 35.75 0 0 0 224 67.3M97 193a24 24 0 0 1-24 6a8 8 0 0 0-5.55.31l-18.1 7.91L57 189.41a8 8 0 0 0 .25-5.75A23.88 23.88 0 0 1 63 159l51-51l33.94 34ZM202.13 82l-25.37 25.52a8 8 0 0 0 0 11.3l4.89 4.89a8 8 0 0 1 0 11.32l-9 9L112 83.26l9-9a8 8 0 0 1 11.31 0l4.89 4.89a8 8 0 0 0 5.65 2.34a8 8 0 0 0 5.66-2.36l24.94-25.09c7.81-7.82 20.5-8.18 28.29-.81a20 20 0 0 1 .39 28.7Z"/></g></svg></button> <button class="cp_action cp_clear"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="M224 56v144a8 8 0 0 1-8 8H68.53a8 8 0 0 1-6.86-3.88L16 128l45.67-76.12A8 8 0 0 1 68.53 48H216a8 8 0 0 1 8 8"opacity=0.2 /><path d="M216 40H68.53a16.08 16.08 0 0 0-13.72 7.77L9.14 123.88a8 8 0 0 0 0 8.24l45.67 76.11A16.08 16.08 0 0 0 68.53 216H216a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M61.67 204.12l6.86-4.12ZM216 200H68.53l-43.2-72l43.2-72H216Zm-109.66-53.66L124.69 128l-18.35-18.34a8 8 0 0 1 11.32-11.32L136 116.69l18.34-18.35a8 8 0 0 1 11.32 11.32L147.31 128l18.35 18.34a8 8 0 0 1-11.32 11.32L136 139.31l-18.34 18.35a8 8 0 0 1-11.32-11.32"/></g></svg></button> <button class="cp_action cp_submit"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="m237.66 85.26l-128.4 128.4a8 8 0 0 1-11.32 0l-71.6-72a8 8 0 0 1 0-11.31l24-24a8 8 0 0 1 11.32 0L104 147.43l98.34-97.09a8 8 0 0 1 11.32 0l24 23.6a8 8 0 0 1 0 11.32"opacity=0.2 /><path d="m243.28 68.24l-24-23.56a16 16 0 0 0-22.59 0L104 136.23l-36.69-35.6a16 16 0 0 0-22.58.05l-24 24a16 16 0 0 0 0 22.61l71.62 72a16 16 0 0 0 22.63 0L243.33 90.91a16 16 0 0 0-.05-22.67M103.62 208L32 136l24-24a.6.6 0 0 1 .08.08l42.35 41.09a8 8 0 0 0 11.19 0L208.06 56L232 79.6Z"/></g></svg></button></div></div></div>',ci='<div class=cp_caret><svg height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><path d="M208.49 120.49a12 12 0 0 1-17 0L140 69v147a12 12 0 0 1-24 0V69l-51.51 51.49a12 12 0 0 1-17-17l72-72a12 12 0 0 1 17 0l72 72a12 12 0 0 1 0 17"fill=currentColor /></svg></div>';let Ce;class ui extends at.EventEmitter{constructor(e,n={}){super(),_(this,"_open",!1),_(this,"_unset",!0),_(this,"_format"),_(this,"_color"),_(this,"_newColor"),_(this,"_swatches"),_(this,"config"),_(this,"popper"),_(this,"isInput"),_(this,"$toggle"),_(this,"$dialog"),_(this,"$button"),_(this,"$input"),_(this,"changeHandler"),_(this,"clickHandler"),_(this,"hsvSlider"),_(this,"hueSlider"),_(this,"alphaSlider"),_(this,"$formats"),_(this,"$colorInput"),this.config={...ai,...n},e=St(e)??document.createElement("button"),this.$toggle=e;const i=this.config.defaultColor||e.value||e.dataset.color||void 0;this.config.headless||this.createToggle(e),this._setCurrentColor(new V(i),!1),i||this.clear(!1),this.setSwatches(this.config.swatches),this.config.dismissOnOutsideClick&&window.addEventListener("pointerdown",o=>{if(!this._open)return;const r=o.target;!r.closest(".cp_dialog")&&!r.closest(".color-picker")&&this.close()}),this.config.dismissOnEscape&&window.addEventListener("keydown",o=>{if(o.key==="Escape"){const r=document.querySelector(":focus");(!r||r.closest(".cp_dialog"))&&this.close();return}}),this.close()}get isOpen(){return this._open}get color(){return this._unset?null:this._color}get swatches(){return this._swatches}get selectedColor(){return this._newColor}get format(){return this._format}get element(){return this.$toggle}createToggle(e){const n=e instanceof HTMLInputElement;this.isInput=n,this.$toggle=n?document.createElement("button"):e,this.$input=n?e:document.createElement("input"),this.isInput&&e.type=="color"&&(e.type="text"),e.replaceWith(this.$toggle),this.$input.tabIndex=-1,this.$input.readOnly=!0,this.$input.classList.add("cp_input"),this.config.toggleStyle==="input"&&this.$toggle.classList.add("cp_wide"),this.$button=document.createElement("div"),this.$button.classList.add("cp_button"),this.$button.innerHTML=ci,this.$toggle.classList.add("color-picker"),this.$toggle.setAttribute("type","button"),this.$toggle.append(this.$input,this.$button),this.changeHandler=()=>this.setColor(this.$input.value),this.clickHandler=()=>this.toggle(),this.$input.addEventListener("change",this.changeHandler),this.$toggle.addEventListener("click",this.clickHandler)}appendTo(e){e.append(this.element)}setSwatches(e){this._swatches=e||[],this.updateSwatches()}toggle(e=!this._open,n=!0){e?this.open(n):this.close(n)}open(e=!0){var n;if(this._open)return;this._open=!0,Ce?.close(),Ce=this;const i=St(this.config.container)??document.body;i.insertAdjacentHTML("beforeend",li),this.$dialog=i.lastElementChild,this.$colorInput=this.$dialog.querySelector(".cp_value"),this.populateDialog(),this.updateSwatches(),this.bindDialog(),this.setFormat(this.config.defaultFormat,!1),this.updateColor(),this.popper=Zn(this.$toggle,this.$dialog,{placement:this.config.dialogPlacement,strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,this.config.dialogOffset]}}]}),this.$colorInput.focus({preventScroll:!0}),(n=this.$button)==null||n.classList.add("cp_open"),setTimeout(()=>this.$dialog.classList.add("cp_open")),e&&(this.emit("open"),setTimeout(()=>this.emit("opened"),this.getAnimationDuration()))}prompt(e=!1){return new Promise(n=>{let i=null;this.on("pick",o=>i=o),this.once("close",()=>n(i)),e&&this.once("closed",()=>this.destroy()),this.open()})}populateDialog(){this.config.formats&&(this.$formats=this.config.formats.map(e=>{const n=document.createElement("button");return n.className="cp_format",n.dataset.format=e,n.textContent=e.toUpperCase(),n.addEventListener("click",()=>this.setFormat(e)),n}),this.$dialog.querySelector(".cp_formats").append(...this.$formats))}bindDialog(){const e=this.$dialog.querySelector(".cp_area-hsv");this.hsvSlider=new qe(e),this.hsvSlider.on("drag",(a,l)=>{this._setNewColor(this._newColor.saturation(a).value(1-l))});const n=this.$dialog.querySelector(".cp_slider-hue");this.hueSlider=new qe(n),this.hueSlider.on("drag",a=>{this._setNewColor(this._newColor.hue(a*360))});const i=this.$dialog.querySelector(".cp_slider-alpha");this.config.enableAlpha?(this.alphaSlider=new qe(i),this.alphaSlider.on("drag",a=>{this._setNewColor(this._newColor.alpha(a),!0)})):i.remove();const o=this.$dialog.querySelector(".cp_eyedrop");this.config.enableEyedropper&&"EyeDropper"in window?o.addEventListener("click",()=>{new EyeDropper().open().then(a=>{const l=new V(a.sRGBHex);this._setNewColor(l)}).catch(()=>{})}):o.remove();const r=this.$dialog.querySelector(".cp_submit");this.config.submitMode==="confirm"?r.addEventListener("click",()=>this.submit()):r.remove();const s=this.$dialog.querySelector(".cp_clear");if(this.config.showClearButton?s.addEventListener("click",()=>{this.clear(),this.close()}):s.remove(),this.$colorInput.addEventListener("input",()=>{try{const{color:a,format:l}=Et(this.$colorInput.value);this.setFormat(l,!1),this._setNewColor(new V(a),!1)}catch{}}),this.$colorInput.addEventListener("keydown",a=>{a.key==="Enter"&&this.submit()}),this.$colorInput.addEventListener("dblclick",()=>{navigator.clipboard&&navigator.clipboard.writeText(this.$colorInput.value)}),this.config.swatchesOnly){const a=this.$dialog.querySelector(".cp_input-group");a&&a.remove();const l=this.$dialog.querySelector(".cp_formats");l&&l.remove(),n&&n.remove(),e&&e.remove(),i&&i.remove()}}getAnimationDuration(){const e=window.getComputedStyle(this.$toggle).getPropertyValue("--cp-delay");return parseFloat(e)*(e.endsWith("ms")?1:1e3)}close(e=!0){var n;if(!this._open)return;this._open=!1,Ce=void 0,(n=this.$button)==null||n.classList.remove("cp_open");const i=this.$dialog,o=this.popper;this.$dialog=void 0,this.popper=void 0,i?.classList.remove("cp_open"),setTimeout(()=>{i?.remove(),o?.destroy(),e&&this.emit("closed")},this.getAnimationDuration()),e&&this.emit("close")}submit(e=this._newColor,n=!0){this._setCurrentColor(e),this.close(n)}destroy(){var e;if(this.close(),(e=this.$dialog)==null||e.remove(),this.isInput){if(!this.$input)return;this.$toggle.removeChild(this.$input),this.$toggle.replaceWith(this.$input),this.$input.classList.remove("cp_input"),this.$input.removeAttribute("tabindex"),this.$input.removeAttribute("readonly"),this.changeHandler&&this.$input.removeEventListener("change",this.changeHandler)}else{if(!this.$toggle)return;this.$toggle.classList.remove("color-picker","cp_open"),this.$toggle.removeAttribute("data-color"),this.$toggle.removeAttribute("type"),this.$toggle.textContent="",this.clickHandler&&this.$toggle.removeEventListener("click",this.clickHandler)}}clear(e=!0){this._unset=!0,this.updateAppliedColor(e)}setColor(e,n=!0){if(!e)return this.clear(n);this._setCurrentColor(new V(e),n)}setFormat(e,n=!0){this._format=e,this.updateFormat(),n&&(this.updateColor(),this.updateAppliedColor(!1))}_setNewColor(e,n=!0){if(this.config.submitMode==="instant"||this.config.swatchesOnly)return this._setCurrentColor(e,!0,n);this._newColor=e,this.updateColor(n)}_setCurrentColor(e,n=!0,i=!0){this._unset=!1,this._newColor=this._color=e,this.updateColor(i),this.updateAppliedColor(n)}updateColor(e=!0){var n,i,o,r,s,a,l,c,u,d;const h=((n=this.color)==null?void 0:n.toString())??"transparent",f=this._newColor.string("hex");(i=this.$dialog)==null||i.style.setProperty("--cp-base-color",f.substring(0,7)),(o=this.$button)==null||o.style.setProperty("--cp-current-color",h),(r=this.$dialog)==null||r.style.setProperty("--cp-current-color",h),(s=this.$dialog)==null||s.style.setProperty("--cp-color",f),(a=this.$dialog)==null||a.style.setProperty("--cp-hue",this._newColor.hue().toString()),(l=this.$dialog)==null||l.style.setProperty("--cp-alpha",this._newColor.alpha().toString()),(c=this.hsvSlider)==null||c.move(this._newColor.saturation(),1-this._newColor.value()),(u=this.hueSlider)==null||u.move(this._newColor.hue()/360),(d=this.alphaSlider)==null||d.move(this._newColor.alpha()),e&&this.$colorInput&&(this.$colorInput.value=this._newColor.string(this._format))}updateAppliedColor(e=!0){const n=this._unset?"":this._color.string(this.config.defaultFormat);this.$input&&(this.$input.value=n),this.$toggle&&(this.$toggle.dataset.color=n),this.$button&&this.$button.classList.toggle("cp_unset",this._unset),e&&this.emit("pick",this.color)}updateFormat(){if(!this.$formats)return;this.$formats.forEach(n=>n.removeAttribute("aria-checked"));const e=this.$formats.find(n=>n.dataset.format===this._format);e&&(e.ariaChecked="true")}updateSwatches(){if(!this.$dialog)return;const e=this.$dialog.querySelector(".cp_swatches");e.textContent="",this._swatches.forEach(n=>{const i=document.createElement("button");i.className="cp_swatch",i.style.setProperty("--cp-color",n),i.dataset.color=n;const o=new V(i.dataset.color);i.addEventListener("click",()=>{this._setNewColor(o),this.config.swatchesOnly&&this.close()}),e.append(i)})}}export{ui as default};

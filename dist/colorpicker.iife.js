var cn=Object.defineProperty;var un=(X,q,U)=>q in X?cn(X,q,{enumerable:!0,configurable:!0,writable:!0,value:U}):X[q]=U;var _=(X,q,U)=>un(X,typeof q!="symbol"?q+"":q,U);(function(X){"use strict";function q(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U={exports:{}},re=typeof Reflect=="object"?Reflect:null,Xe=re&&typeof re.apply=="function"?re.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},we;re&&typeof re.ownKeys=="function"?we=re.ownKeys:Object.getOwnPropertySymbols?we=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:we=function(e){return Object.getOwnPropertyNames(e)};function jt(t){console&&console.warn&&console.warn(t)}var Ue=Number.isNaN||function(e){return e!==e};function m(){m.init.call(this)}U.exports=m,U.exports.once=Rt,m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var Ye=10;function be(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return Ye},set:function(t){if(typeof t!="number"||t<0||Ue(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ye=t}}),m.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ue(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ze(t){return t._maxListeners===void 0?m.defaultMaxListeners:t._maxListeners}m.prototype.getMaxListeners=function(){return ze(this)},m.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")Xe(l,this,r);else for(var u=l.length,c=Qe(l,u),n=0;n<u;++n)Xe(c[n],this,r);return!0};function Ke(t,e,r,n){var i,o,s;if(be(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=ze(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,jt(a)}return t}m.prototype.addListener=function(e,r){return Ke(this,e,r,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(e,r){return Ke(this,e,r,!0)};function Mt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ze(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Mt.bind(n);return i.listener=r,n.wrapFn=i,i}m.prototype.once=function(e,r){return be(r),this.on(e,Ze(this,e,r)),this},m.prototype.prependOnceListener=function(e,r){return be(r),this.prependListener(e,Ze(this,e,r)),this},m.prototype.removeListener=function(e,r){var n,i,o,s,a;if(be(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():Dt(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Ge(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Tt(i):Qe(i,i.length)}m.prototype.listeners=function(e){return Ge(this,e,!0)},m.prototype.rawListeners=function(e){return Ge(this,e,!1)},m.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Je.call(t,e)},m.prototype.listenerCount=Je;function Je(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}m.prototype.eventNames=function(){return this._eventsCount>0?we(this._events):[]};function Qe(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Dt(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Tt(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Rt(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}et(t,e,o,{once:!0}),e!=="error"&&Bt(t,i,{once:!0})})}function Bt(t,e,r){typeof t.on=="function"&&et(t,"error",e,r)}function et(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var tt=U.exports;const Nt=q(tt);var k="top",T="bottom",R="right",j="left",Pe="auto",ce=[k,T,R,j],ne="start",ue="end",Ht="clippingParents",rt="viewport",fe="popper",Wt="reference",nt=ce.reduce(function(t,e){return t.concat([e+"-"+ne,e+"-"+ue])},[]),it=[].concat(ce,[Pe]).reduce(function(t,e){return t.concat([e,e+"-"+ne,e+"-"+ue])},[]),Ft="beforeRead",qt="read",It="afterRead",Vt="beforeMain",Xt="main",Ut="afterMain",Yt="beforeWrite",zt="write",Kt="afterWrite",Zt=[Ft,qt,It,Vt,Xt,Ut,Yt,zt,Kt];function W(t){return t?(t.nodeName||"").toLowerCase():null}function M(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function K(t){var e=M(t).Element;return t instanceof e||t instanceof Element}function B(t){var e=M(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ke(t){if(typeof ShadowRoot>"u")return!1;var e=M(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Gt(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!B(o)||!W(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Jt(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=s.reduce(function(l,u){return l[u]="",l},{});!B(i)||!W(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const Qt={name:"applyStyles",enabled:!0,phase:"write",fn:Gt,effect:Jt,requires:["computeStyles"]};function F(t){return t.split("-")[0]}var Z=Math.max,xe=Math.min,ie=Math.round;function je(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ot(){return!/^((?!chrome|android).)*safari/i.test(je())}function oe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&B(t)&&(i=t.offsetWidth>0&&ie(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&ie(n.height)/t.offsetHeight||1);var s=K(t)?M(t):window,a=s.visualViewport,l=!ot()&&r,u=(n.left+(l&&a?a.offsetLeft:0))/i,c=(n.top+(l&&a?a.offsetTop:0))/o,d=n.width/i,g=n.height/o;return{width:d,height:g,top:c,right:u+d,bottom:c+g,left:u,x:u,y:c}}function Me(t){var e=oe(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function st(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&ke(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function I(t){return M(t).getComputedStyle(t)}function er(t){return["table","td","th"].indexOf(W(t))>=0}function Y(t){return((K(t)?t.ownerDocument:t.document)||window.document).documentElement}function Oe(t){return W(t)==="html"?t:t.assignedSlot||t.parentNode||(ke(t)?t.host:null)||Y(t)}function at(t){return!B(t)||I(t).position==="fixed"?null:t.offsetParent}function tr(t){var e=/firefox/i.test(je()),r=/Trident/i.test(je());if(r&&B(t)){var n=I(t);if(n.position==="fixed")return null}var i=Oe(t);for(ke(i)&&(i=i.host);B(i)&&["html","body"].indexOf(W(i))<0;){var o=I(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function pe(t){for(var e=M(t),r=at(t);r&&er(r)&&I(r).position==="static";)r=at(r);return r&&(W(r)==="html"||W(r)==="body"&&I(r).position==="static")?e:r||tr(t)||e}function De(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function de(t,e,r){return Z(t,xe(e,r))}function rr(t,e,r){var n=de(t,e,r);return n>r?r:n}function lt(){return{top:0,right:0,bottom:0,left:0}}function ct(t){return Object.assign({},lt(),t)}function ut(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var nr=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,ct(typeof e!="number"?e:ut(e,ce))};function ir(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=F(r.placement),l=De(a),u=[j,R].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=nr(i.padding,r),g=Me(o),f=l==="y"?k:j,x=l==="y"?T:R,v=r.rects.reference[c]+r.rects.reference[l]-s[l]-r.rects.popper[c],h=s[l]-r.rects.reference[l],b=pe(o),$=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,C=v/2-h/2,p=d[f],y=$-g[c]-d[x],w=$/2-g[c]/2+C,O=de(p,w,y),A=l;r.modifiersData[n]=(e={},e[A]=O,e.centerOffset=O-w,e)}}function or(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||st(e.elements.popper,i)&&(e.elements.arrow=i))}const sr={name:"arrow",enabled:!0,phase:"main",fn:ir,effect:or,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function se(t){return t.split("-")[1]}var ar={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lr(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:ie(r*i)/i||0,y:ie(n*i)/i||0}}function ft(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,g=s.x,f=g===void 0?0:g,x=s.y,v=x===void 0?0:x,h=typeof c=="function"?c({x:f,y:v}):{x:f,y:v};f=h.x,v=h.y;var b=s.hasOwnProperty("x"),$=s.hasOwnProperty("y"),C=j,p=k,y=window;if(u){var w=pe(r),O="clientHeight",A="clientWidth";if(w===M(r)&&(w=Y(r),I(w).position!=="static"&&a==="absolute"&&(O="scrollHeight",A="scrollWidth")),w=w,i===k||(i===j||i===R)&&o===ue){p=T;var E=d&&w===y&&y.visualViewport?y.visualViewport.height:w[O];v-=E-n.height,v*=l?1:-1}if(i===j||(i===k||i===T)&&o===ue){C=R;var L=d&&w===y&&y.visualViewport?y.visualViewport.width:w[A];f-=L-n.width,f*=l?1:-1}}var S=Object.assign({position:a},u&&ar),N=c===!0?lr({x:f,y:v},M(r)):{x:f,y:v};if(f=N.x,v=N.y,l){var P;return Object.assign({},S,(P={},P[p]=$?"0":"",P[C]=b?"0":"",P.transform=(y.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",P))}return Object.assign({},S,(e={},e[p]=$?v+"px":"",e[C]=b?f+"px":"",e.transform="",e))}function cr(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,l=a===void 0?!0:a,u={placement:F(e.placement),variation:se(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ft(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ft(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ur={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cr,data:{}};var $e={passive:!0};function fr(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,l=M(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",r.update,$e)}),a&&l.addEventListener("resize",r.update,$e),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",r.update,$e)}),a&&l.removeEventListener("resize",r.update,$e)}}const pr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fr,data:{}};var dr={left:"right",right:"left",bottom:"top",top:"bottom"};function Ce(t){return t.replace(/left|right|bottom|top/g,function(e){return dr[e]})}var hr={start:"end",end:"start"};function pt(t){return t.replace(/start|end/g,function(e){return hr[e]})}function Te(t){var e=M(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Re(t){return oe(Y(t)).left+Te(t).scrollLeft}function vr(t,e){var r=M(t),n=Y(t),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=ot();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Re(t),y:l}}function gr(t){var e,r=Y(t),n=Te(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Z(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Z(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+Re(t),l=-n.scrollTop;return I(i||r).direction==="rtl"&&(a+=Z(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Be(t){var e=I(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function dt(t){return["html","body","#document"].indexOf(W(t))>=0?t.ownerDocument.body:B(t)&&Be(t)?t:dt(Oe(t))}function he(t,e){var r;e===void 0&&(e=[]);var n=dt(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=M(n),s=i?[o].concat(o.visualViewport||[],Be(n)?n:[]):n,a=e.concat(s);return i?a:a.concat(he(Oe(s)))}function Ne(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mr(t,e){var r=oe(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function ht(t,e,r){return e===rt?Ne(vr(t,r)):K(e)?mr(e,r):Ne(gr(Y(t)))}function yr(t){var e=he(Oe(t)),r=["absolute","fixed"].indexOf(I(t).position)>=0,n=r&&B(t)?pe(t):t;return K(n)?e.filter(function(i){return K(i)&&st(i,n)&&W(i)!=="body"}):[]}function wr(t,e,r,n){var i=e==="clippingParents"?yr(t):[].concat(e),o=[].concat(i,[r]),s=o[0],a=o.reduce(function(l,u){var c=ht(t,u,n);return l.top=Z(c.top,l.top),l.right=xe(c.right,l.right),l.bottom=xe(c.bottom,l.bottom),l.left=Z(c.left,l.left),l},ht(t,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function vt(t){var e=t.reference,r=t.element,n=t.placement,i=n?F(n):null,o=n?se(n):null,s=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case k:l={x:s,y:e.y-r.height};break;case T:l={x:s,y:e.y+e.height};break;case R:l={x:e.x+e.width,y:a};break;case j:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?De(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case ne:l[u]=l[u]-(e[c]/2-r[c]/2);break;case ue:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function ve(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,s=o===void 0?t.strategy:o,a=r.boundary,l=a===void 0?Ht:a,u=r.rootBoundary,c=u===void 0?rt:u,d=r.elementContext,g=d===void 0?fe:d,f=r.altBoundary,x=f===void 0?!1:f,v=r.padding,h=v===void 0?0:v,b=ct(typeof h!="number"?h:ut(h,ce)),$=g===fe?Wt:fe,C=t.rects.popper,p=t.elements[x?$:g],y=wr(K(p)?p:p.contextElement||Y(t.elements.popper),l,c,s),w=oe(t.elements.reference),O=vt({reference:w,element:C,strategy:"absolute",placement:i}),A=Ne(Object.assign({},C,O)),E=g===fe?A:w,L={top:y.top-E.top+b.top,bottom:E.bottom-y.bottom+b.bottom,left:y.left-E.left+b.left,right:E.right-y.right+b.right},S=t.modifiersData.offset;if(g===fe&&S){var N=S[i];Object.keys(L).forEach(function(P){var G=[R,T].indexOf(P)>=0?1:-1,J=[k,T].indexOf(P)>=0?"y":"x";L[P]+=N[J]*G})}return L}function br(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?it:l,c=se(n),d=c?a?nt:nt.filter(function(x){return se(x)===c}):ce,g=d.filter(function(x){return u.indexOf(x)>=0});g.length===0&&(g=d);var f=g.reduce(function(x,v){return x[v]=ve(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[F(v)],x},{});return Object.keys(f).sort(function(x,v){return f[x]-f[v]})}function xr(t){if(F(t)===Pe)return[];var e=Ce(t);return[pt(t),e,pt(e)]}function Or(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,l=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,g=r.altBoundary,f=r.flipVariations,x=f===void 0?!0:f,v=r.allowedAutoPlacements,h=e.options.placement,b=F(h),$=b===h,C=l||($||!x?[Ce(h)]:xr(h)),p=[h].concat(C).reduce(function(le,z){return le.concat(F(z)===Pe?br(e,{placement:z,boundary:c,rootBoundary:d,padding:u,flipVariations:x,allowedAutoPlacements:v}):z)},[]),y=e.rects.reference,w=e.rects.popper,O=new Map,A=!0,E=p[0],L=0;L<p.length;L++){var S=p[L],N=F(S),P=se(S)===ne,G=[k,T].indexOf(N)>=0,J=G?"width":"height",D=ve(e,{placement:S,boundary:c,rootBoundary:d,altBoundary:g,padding:u}),H=G?P?R:j:P?T:k;y[J]>w[J]&&(H=Ce(H));var Le=Ce(H),Q=[];if(o&&Q.push(D[N]<=0),a&&Q.push(D[H]<=0,D[Le]<=0),Q.every(function(le){return le})){E=S,A=!1;break}O.set(S,Q)}if(A)for(var _e=x?3:1,Fe=function(z){var ye=p.find(function(Ae){var ee=O.get(Ae);if(ee)return ee.slice(0,z).every(function(qe){return qe})});if(ye)return E=ye,"break"},me=_e;me>0;me--){var Ee=Fe(me);if(Ee==="break")break}e.placement!==E&&(e.modifiersData[n]._skip=!0,e.placement=E,e.reset=!0)}}const $r={name:"flip",enabled:!0,phase:"main",fn:Or,requiresIfExists:["offset"],data:{_skip:!1}};function gt(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function mt(t){return[k,R,T,j].some(function(e){return t[e]>=0})}function Cr(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=ve(e,{elementContext:"reference"}),a=ve(e,{altBoundary:!0}),l=gt(s,n),u=gt(a,i,o),c=mt(l),d=mt(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Lr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Cr};function _r(t,e,r){var n=F(t),i=[j,k].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[j,R].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function Er(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,s=it.reduce(function(c,d){return c[d]=_r(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=s}const Ar={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Er};function Sr(t){var e=t.state,r=t.name;e.modifiersData[r]=vt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Pr={name:"popperOffsets",enabled:!0,phase:"read",fn:Sr,data:{}};function kr(t){return t==="x"?"y":"x"}function jr(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,g=r.tether,f=g===void 0?!0:g,x=r.tetherOffset,v=x===void 0?0:x,h=ve(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),b=F(e.placement),$=se(e.placement),C=!$,p=De(b),y=kr(p),w=e.modifiersData.popperOffsets,O=e.rects.reference,A=e.rects.popper,E=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,L=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(w){if(o){var P,G=p==="y"?k:j,J=p==="y"?T:R,D=p==="y"?"height":"width",H=w[p],Le=H+h[G],Q=H-h[J],_e=f?-A[D]/2:0,Fe=$===ne?O[D]:A[D],me=$===ne?-A[D]:-O[D],Ee=e.elements.arrow,le=f&&Ee?Me(Ee):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:lt(),ye=z[G],Ae=z[J],ee=de(0,O[D],le[D]),qe=C?O[D]/2-_e-ee-ye-L.mainAxis:Fe-ee-ye-L.mainAxis,rn=C?-O[D]/2+_e+ee+Ae+L.mainAxis:me+ee+Ae+L.mainAxis,Ie=e.elements.arrow&&pe(e.elements.arrow),nn=Ie?p==="y"?Ie.clientTop||0:Ie.clientLeft||0:0,$t=(P=S==null?void 0:S[p])!=null?P:0,on=H+qe-$t-nn,sn=H+rn-$t,Ct=de(f?xe(Le,on):Le,H,f?Z(Q,sn):Q);w[p]=Ct,N[p]=Ct-H}if(a){var Lt,an=p==="x"?k:j,ln=p==="x"?T:R,te=w[y],Se=y==="y"?"height":"width",_t=te+h[an],Et=te-h[ln],Ve=[k,j].indexOf(b)!==-1,At=(Lt=S==null?void 0:S[y])!=null?Lt:0,St=Ve?_t:te-O[Se]-A[Se]-At+L.altAxis,Pt=Ve?te+O[Se]+A[Se]-At-L.altAxis:Et,kt=f&&Ve?rr(St,te,Pt):de(f?St:_t,te,f?Pt:Et);w[y]=kt,N[y]=kt-te}e.modifiersData[n]=N}}const Mr={name:"preventOverflow",enabled:!0,phase:"main",fn:jr,requiresIfExists:["offset"]};function Dr(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Tr(t){return t===M(t)||!B(t)?Te(t):Dr(t)}function Rr(t){var e=t.getBoundingClientRect(),r=ie(e.width)/t.offsetWidth||1,n=ie(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Br(t,e,r){r===void 0&&(r=!1);var n=B(e),i=B(e)&&Rr(e),o=Y(e),s=oe(t,i,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((W(e)!=="body"||Be(o))&&(a=Tr(e)),B(e)?(l=oe(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Re(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Nr(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function Hr(t){var e=Nr(t);return Zt.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Wr(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Fr(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var yt={placement:"bottom",modifiers:[],strategy:"absolute"};function wt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function qr(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?yt:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},yt,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],g=!1,f={state:c,setOptions:function(b){var $=typeof b=="function"?b(c.options):b;v(),c.options=Object.assign({},o,c.options,$),c.scrollParents={reference:K(a)?he(a):a.contextElement?he(a.contextElement):[],popper:he(l)};var C=Hr(Fr([].concat(n,c.options.modifiers)));return c.orderedModifiers=C.filter(function(p){return p.enabled}),x(),f.update()},forceUpdate:function(){if(!g){var b=c.elements,$=b.reference,C=b.popper;if(wt($,C)){c.rects={reference:Br($,pe(C),c.options.strategy==="fixed"),popper:Me(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var p=0;p<c.orderedModifiers.length;p++){if(c.reset===!0){c.reset=!1,p=-1;continue}var y=c.orderedModifiers[p],w=y.fn,O=y.options,A=O===void 0?{}:O,E=y.name;typeof w=="function"&&(c=w({state:c,options:A,name:E,instance:f})||c)}}}},update:Wr(function(){return new Promise(function(h){f.forceUpdate(),h(c)})}),destroy:function(){v(),g=!0}};if(!wt(a,l))return f;f.setOptions(u).then(function(h){!g&&u.onFirstUpdate&&u.onFirstUpdate(h)});function x(){c.orderedModifiers.forEach(function(h){var b=h.name,$=h.options,C=$===void 0?{}:$,p=h.effect;if(typeof p=="function"){var y=p({state:c,name:b,instance:f,options:C}),w=function(){};d.push(y||w)}})}function v(){d.forEach(function(h){return h()}),d=[]}return f}}var Ir=[pr,Pr,ur,Qt,Ar,$r,Mr,sr,Lr],Vr=qr({defaultModifiers:Ir});const Xr=([t,e,r,n])=>{const i=Math.max(t,e,r),o=i-Math.min(t,e,r),s=o&&(i==t?(e-r)/o:i==e?2+(r-t)/o:4+(t-e)/o);return[60*(s<0?s+6:s),i&&o/i,i,n]},bt=t=>t.replace(/[^0-9%.,]/g,"").split(",").map(e=>parseFloat(e)/(e.endsWith("%")?100:1)),Ur=t=>{const e=document.createElement("span");e.style.display="none",e.style.color=t,document.body.append(e);const{color:r}=getComputedStyle(e);if(e.remove(),!r)return null;const[n,i,o,s]=bt(r);return Xr([n/255,i/255,o/255,s])},Yr=t=>{const e=bt(t).map((r,n)=>Math.min(r,n?1:255));return e.length<3||e.some(r=>isNaN(r))?null:e},xt=t=>{let e;/^hsva?\(/.test(t)?e="hsv":/^hsla?\(/.test(t)?e="hsl":/^rgba?\(/.test(t)?e="rgb":e="hex";const r=e==="hsv"?Yr(t):Ur(t);if(!r)throw new Error("Color could not be parsed!");return r[3]=r[3]??1,{color:r,format:e}},ae=t=>t.toFixed(),zr=(t,e)=>(""+ +t.toFixed(e)).replace(/^0\./g,"."),Kr=([t,e,r,n])=>{const i=r-r*e/2,o=Math.min(i,1-i);return[t,o?(r-i)/o:0,i,n]},Ot=([t,e,r,n])=>{const i=(o,s=(o+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1),n]},He=([t,e,r,n],i)=>{const o=n<1?"a":"",s=i.startsWith("hs")?[ae(t),ae(e*100)+"%",ae(r*100)+"%"]:[ae(t*255),ae(e*255),ae(r*255)];return o&&s.push(zr(n,2)),`${i}${o}(${s.join()})`},Zr=t=>"#"+t.slice(0,t[3]<1?4:3).map(e=>Math.round(e*255).toString(16).padStart(2,"0")).join(""),Gr=(t,e)=>e==="hsv"?He(t,e):e==="hsl"?He(Kr(t),e):e==="rgb"?He(Ot(t),e):Zr(Ot(t));class V{constructor(e){_(this,"color");if(!e)this.color=[0,0,0,1];else if(e instanceof V)this.color=[...e.color];else if(Array.isArray(e)){const[r=0,n=0,i=0,o=1]=e;this.color=[r,n,i,o]}else this.color=xt(e).color}getSet(e,r){if(r===void 0)return this.color[e];const n=[...this.color];return n[e]=r,new V(n)}hue(e){return this.getSet(0,e)}saturation(e){return this.getSet(1,e)}value(e){return this.getSet(2,e)}alpha(e){return this.getSet(3,e)}string(e){return Gr(this.color,e)}toString(){return this.string("hex")}clone(){return new V(this)}}class We extends Nt{constructor(r){super();_(this,"$track");_(this,"$thumb");this.$track=r,this.$thumb=r.querySelector(".cp_thumb"),this.$track.addEventListener("pointerdown",n=>{this.$track.setPointerCapture(n.pointerId),this.handleDrag(n)}),this.$track.addEventListener("pointermove",n=>{this.$track.hasPointerCapture(n.pointerId)&&this.handleDrag(n)}),this.$track.addEventListener("pointerup",n=>{this.$track.releasePointerCapture(n.pointerId)})}handleDrag(r){const n=this.$track.getBoundingClientRect();let i=(r.clientX-n.x)/n.width;i<0&&(i=0),i>1&&(i=1);let o=(r.clientY-n.y)/n.height;o<0&&(o=0),o>1&&(o=1),this.emit("drag",i,o)}moveThumb(r,n){r!==void 0&&(this.$thumb.style.left=`${r*100}%`),n!==void 0&&(this.$thumb.style.top=`${n*100}%`)}}const Jr={toggleStyle:"button",defaultColor:null,swatches:null,enablePreview:!1,enableAlpha:!0,enableEyedropper:!0,formats:["hex","rgb","hsv","hsl"],defaultFormat:"hex",commitMode:"confirm",showSubmitButton:!0,showClearButton:!0,dismissOnOutsideClick:!0,dismissOnEscape:!0,dialogPlacement:"top",dialogOffset:8},Qr=`<div class="cp_toggle">
  <div class="cp_caret">
    <!-- prettier-ignore -->
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><path fill="currentColor" d="M208.49 120.49a12 12 0 0 1-17 0L140 69v147a12 12 0 0 1-24 0V69l-51.51 51.49a12 12 0 0 1-17-17l72-72a12 12 0 0 1 17 0l72 72a12 12 0 0 1 0 17"/></svg>
  </div>
</div>
`,en=`<div class="cp_dialog">
  <div class="cp_area cp_area-hsv">
    <div class="cp_inner"></div>
    <div class="cp_thumb"></div>
  </div>
  <div class="cp_dialog-inner">
    <div class="cp_preview">
      <div class="cp_p-current"></div>
      <div class="cp_p-new"></div>
    </div>
    <div class="cp_slider-hue cp_slider">
      <div class="cp_thumb"></div>
    </div>
    <div class="cp_slider cp_slider-alpha">
      <div class="cp_inner"></div>
      <div class="cp_thumb"></div>
    </div>
    <div class="cp_swatches"></div>
    <div class="cp_formats"></div>
    <div class="cp_input-group">
      <button class="cp_action cp_eyedrop">
        <!-- prettier-ignore -->
        <svg class="cp_icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><g fill="currentColor"><path d="m207.8 87.6l-25.37 25.53l4.89 4.88a16 16 0 0 1 0 22.64l-9 9a8 8 0 0 1-11.32 0l-60.68-60.7a8 8 0 0 1 0-11.32l9-9a16 16 0 0 1 22.63 0l4.88 4.89l25-25.11c10.79-10.79 28.37-11.45 39.45-1a28 28 0 0 1 .52 40.19" opacity="0.2"/><path d="M224 67.3a35.8 35.8 0 0 0-11.26-25.66c-14-13.28-36.72-12.78-50.62 1.13L142.8 62.2a24 24 0 0 0-33.14.77l-9 9a16 16 0 0 0 0 22.64l2 2.06l-51 51a39.75 39.75 0 0 0-10.53 38l-8 18.41A13.68 13.68 0 0 0 36 219.3a15.92 15.92 0 0 0 17.71 3.35L71.23 215a39.89 39.89 0 0 0 37.06-10.75l51-51l2.06 2.06a16 16 0 0 0 22.62 0l9-9a24 24 0 0 0 .74-33.18l19.75-19.87A35.75 35.75 0 0 0 224 67.3M97 193a24 24 0 0 1-24 6a8 8 0 0 0-5.55.31l-18.1 7.91L57 189.41a8 8 0 0 0 .25-5.75A23.88 23.88 0 0 1 63 159l51-51l33.94 34ZM202.13 82l-25.37 25.52a8 8 0 0 0 0 11.3l4.89 4.89a8 8 0 0 1 0 11.32l-9 9L112 83.26l9-9a8 8 0 0 1 11.31 0l4.89 4.89a8 8 0 0 0 5.65 2.34a8 8 0 0 0 5.66-2.36l24.94-25.09c7.81-7.82 20.5-8.18 28.29-.81a20 20 0 0 1 .39 28.7Z"/></g></svg>
      </button>
      <input class="cp_input" value="#ff0000" autocomplete="false" spellcheck="false" />
      <button class="cp_action cp_clear">
        <!-- prettier-ignore -->
        <svg class="cp_icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><g fill="currentColor"><path d="M224 56v144a8 8 0 0 1-8 8H68.53a8 8 0 0 1-6.86-3.88L16 128l45.67-76.12A8 8 0 0 1 68.53 48H216a8 8 0 0 1 8 8" opacity="0.2"/><path d="M216 40H68.53a16.08 16.08 0 0 0-13.72 7.77L9.14 123.88a8 8 0 0 0 0 8.24l45.67 76.11A16.08 16.08 0 0 0 68.53 216H216a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M61.67 204.12l6.86-4.12ZM216 200H68.53l-43.2-72l43.2-72H216Zm-109.66-53.66L124.69 128l-18.35-18.34a8 8 0 0 1 11.32-11.32L136 116.69l18.34-18.35a8 8 0 0 1 11.32 11.32L147.31 128l18.35 18.34a8 8 0 0 1-11.32 11.32L136 139.31l-18.34 18.35a8 8 0 0 1-11.32-11.32"/></g></svg>
      </button>
      <button class="cp_action cp_submit">
        <!-- prettier-ignore -->
        <svg class="cp_icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><g fill="currentColor"><path d="m237.66 85.26l-128.4 128.4a8 8 0 0 1-11.32 0l-71.6-72a8 8 0 0 1 0-11.31l24-24a8 8 0 0 1 11.32 0L104 147.43l98.34-97.09a8 8 0 0 1 11.32 0l24 23.6a8 8 0 0 1 0 11.32" opacity="0.2"/><path d="m243.28 68.24l-24-23.56a16 16 0 0 0-22.59 0L104 136.23l-36.69-35.6a16 16 0 0 0-22.58.05l-24 24a16 16 0 0 0 0 22.61l71.62 72a16 16 0 0 0 22.63 0L243.33 90.91a16 16 0 0 0-.05-22.67M103.62 208L32 136l24-24a.6.6 0 0 1 .08.08l42.35 41.09a8 8 0 0 0 11.19 0L208.06 56L232 79.6Z"/></g></svg>
      </button>
    </div>
  </div>
</div>
`;let ge;class tn extends tt.EventEmitter{constructor(r,n={}){var o;super();_(this,"_unset",!0);_(this,"_format");_(this,"_color");_(this,"_newColor");_(this,"config");_(this,"popper");_(this,"$target");_(this,"$dialog");_(this,"$toggle");_(this,"$toggleText");_(this,"hsvSlider");_(this,"hueSlider");_(this,"alphaSlider");_(this,"$formats");_(this,"$colorInput");if(this.config={...Jr,...n},r?typeof r=="string"&&(r=document.querySelector(r)):r=document.createElement("button"),!r)throw new Error("Element is null.");this.$target=r,this.config.toggleStyle!=="hidden"&&(this.$toggle=r,this.$toggle.classList.add("color-picker"),this.$toggle.innerHTML=Qr,this.$toggle.addEventListener("click",()=>this.toggle())),this.config.toggleStyle==="input"&&(this.$toggleText=document.createElement("div"),this.$toggleText.className="cp_text",this.$target.prepend(this.$toggleText)),this.close();const i=this.config.defaultColor??((o=this.$toggle)==null?void 0:o.dataset.color);this._setCurrentColor(new V(i),!1),i||this.clear(!1),this.config.dismissOnOutsideClick&&window.addEventListener("pointerdown",s=>{if(!this.isOpen)return;s.target.closest(".cp_dialog")||this.close()}),this.config.dismissOnEscape&&window.addEventListener("keydown",s=>{if(!this.isOpen||s.key!=="Escape")return;const a=document.querySelector(":focus");(!a||a.closest(".cp_dialog"))&&this.close()})}get isOpen(){return!!this.$dialog}get color(){return this._unset?null:this._color}get selectedColor(){return this._newColor}get format(){return this._format}get element(){return this.$target}toggle(r=!this.isOpen,n=!0){r?this.open(n):this.close(n)}open(r=!0){var n;this.isOpen||(ge==null||ge.close(),ge=this,document.body.insertAdjacentHTML("beforeend",en),this.$dialog=document.querySelector(".cp_dialog"),this.$colorInput=this.$dialog.querySelector(".cp_input"),this.populateDialog(),this.bindDialog(),this.setFormat(this.config.defaultFormat,!1),this.updateColor(),this.popper=Vr(this.$target,this.$dialog,{placement:this.config.dialogPlacement,strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,this.config.dialogOffset]}}]}),(n=this.$toggle)==null||n.classList.add("cp_open"),setTimeout(()=>this.$dialog.classList.add("cp_open")),r&&(this.emit("open"),setTimeout(()=>this.emit("opened"),this.getAnimationDuration())))}openOnce(r=!1){return new Promise(n=>{this.once("closed",()=>{r&&this.destroy(),n(this.color)}),this.open()})}populateDialog(){if(this.config.swatches){const r=this.config.swatches.map(n=>{const i=document.createElement("button");i.className="cp_swatch",i.style.setProperty("--cp-color",n),i.dataset.color=n;const o=new V(i.dataset.color);return i.addEventListener("click",()=>this._setNewColor(o)),i});this.$dialog.querySelector(".cp_swatches").append(...r)}this.config.formats&&(this.$formats=this.config.formats.map(r=>{const n=document.createElement("button");return n.className="cp_format",n.dataset.format=r,n.textContent=r.toUpperCase(),n.addEventListener("click",()=>this.setFormat(r)),n}),this.$dialog.querySelector(".cp_formats").append(...this.$formats))}bindDialog(){var l;const r=this.$dialog.querySelector(".cp_area-hsv");this.hsvSlider=new We(r),this.hsvSlider.on("drag",(u,c)=>{this._setNewColor(this._newColor.saturation(u).value(1-c))});const n=this.$dialog.querySelector(".cp_slider-hue");this.hueSlider=new We(n),this.hueSlider.on("drag",u=>{this._setNewColor(this._newColor.hue(u*360))});const i=this.$dialog.querySelector(".cp_slider-alpha");this.config.enableAlpha?(this.alphaSlider=new We(i),this.alphaSlider.on("drag",u=>{this._setNewColor(this._newColor.alpha(u),!0)})):i.remove(),this.$colorInput.addEventListener("input",()=>{try{const{color:u,format:c}=xt(this.$colorInput.value);this.setFormat(c,!1),this._setNewColor(new V(u),!1)}catch{}}),this.config.enablePreview||(l=this.$dialog.querySelector(".cp_preview"))==null||l.remove();const o=this.$dialog.querySelector(".cp_eyedrop");this.config.enableEyedropper&&"EyeDropper"in window?o.addEventListener("click",()=>{new EyeDropper().open().then(u=>{const c=new V(u.sRGBHex);this._setNewColor(c)}).catch(()=>{})}):o.remove();const s=this.$dialog.querySelector(".cp_submit");this.config.showSubmitButton?s.addEventListener("click",()=>{this._setCurrentColor(this._newColor),this.close()}):s.remove();const a=this.$dialog.querySelector(".cp_clear");this.config.showClearButton?a.addEventListener("click",()=>{this.clear(),this.close()}):a.remove()}getAnimationDuration(){const n=window.getComputedStyle(this.$target).getPropertyValue("--cp-delay");return parseFloat(n)*(n.endsWith("ms")?1:1e3)}close(r=!0){var n,i;this.isOpen&&(ge=void 0,(n=this.$dialog)==null||n.classList.remove("cp_open"),(i=this.$toggle)==null||i.classList.remove("cp_open"),setTimeout(()=>{var o,s;(o=this.$dialog)==null||o.remove(),(s=this.popper)==null||s.destroy(),this.$dialog=void 0,this.popper=void 0,r&&this.emit("closed")},this.getAnimationDuration()),r&&this.emit("close"))}destroy(){var r;this.close(),(r=this.$dialog)==null||r.remove(),this.$toggle&&(this.$toggle.classList.remove("color-picker","cp_open","cp_unset"),this.$toggle.style.removeProperty("--cp-current-color"),this.$toggle.removeAttribute("data-color"),this.$toggle.textContent="")}clear(r=!0){this._unset=!0,this.updateAppliedColor(r)}setColor(r,n=!0){if(!r)return this.clear(n);this._setCurrentColor(new V(r),n)}setFormat(r,n=!0){this._format=r,this.updateFormat(),n&&(this.updateColor(),this.updateAppliedColor(!1))}_setNewColor(r,n=!0){if(this.config.commitMode==="instant")return this._setCurrentColor(r);this._newColor=r,this.updateColor(n)}_setCurrentColor(r,n=!0){this._unset=!1,this._newColor=r,this._color=r,this.updateColor(!0),this.updateAppliedColor(n)}updateColor(r=!0){var i,o,s,a,l,u,c,d,g;const n=((i=this.color)==null?void 0:i.toString())??"transparent";(o=this.$toggle)==null||o.style.setProperty("--cp-current-color",n),(s=this.$dialog)==null||s.style.setProperty("--cp-current-color",n),(a=this.$dialog)==null||a.style.setProperty("--cp-color",this._newColor.toString()),(l=this.$dialog)==null||l.style.setProperty("--cp-hue",this._newColor.hue().toString()),(u=this.$dialog)==null||u.style.setProperty("--cp-alpha",this._newColor.alpha().toString()),(c=this.hsvSlider)==null||c.moveThumb(this._newColor.saturation(),1-this._newColor.value()),(d=this.hueSlider)==null||d.moveThumb(this._newColor.hue()/360),(g=this.alphaSlider)==null||g.moveThumb(this._newColor.alpha()),r&&this.$colorInput&&(this.$colorInput.value=this._newColor.string(this._format))}updateAppliedColor(r=!0){var n,i;this.$toggle&&(this.$toggle.classList.toggle("cp_unset",this._unset),this.$toggle.dataset.color=((n=this.color)==null?void 0:n.toString())??""),this.$toggleText&&(this.$toggleText.textContent=((i=this.color)==null?void 0:i.string(this._format))??"-"),r&&this.emit("pick",this.color)}updateFormat(){if(!this.$formats)return;this.$formats.forEach(n=>n.removeAttribute("aria-checked"));const r=this.$formats.find(n=>n.dataset.format===this._format);r&&(r.ariaChecked="true")}}X.ColorPicker=tn,Object.defineProperty(X,Symbol.toStringTag,{value:"Module"})})(this.window=this.window||{});

var ColorPicker=function(){"use strict";var cn=Object.defineProperty;var un=(K,B,N)=>B in K?cn(K,B,{enumerable:!0,configurable:!0,writable:!0,value:N}):K[B]=N;var $=(K,B,N)=>un(K,typeof B!="symbol"?B+"":B,N);function K(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B={exports:{}},N=typeof Reflect=="object"?Reflect:null,Ve=N&&typeof N.apply=="function"?N.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ye;N&&typeof N.ownKeys=="function"?ye=N.ownKeys:Object.getOwnPropertySymbols?ye=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ye=function(e){return Object.getOwnPropertyNames(e)};function Dt(t){console&&console.warn&&console.warn(t)}var Ue=Number.isNaN||function(e){return e!==e};function m(){m.init.call(this)}B.exports=m,B.exports.once=Tt,m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var Xe=10;function we(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return Xe},set:function(t){if(typeof t!="number"||t<0||Ue(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Xe=t}}),m.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ue(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ye(t){return t._maxListeners===void 0?m.defaultMaxListeners:t._maxListeners}m.prototype.getMaxListeners=function(){return Ye(this)},m.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var a=o[e];if(a===void 0)return!1;if(typeof a=="function")Ve(a,this,r);else for(var u=a.length,c=Je(a,u),n=0;n<u;++n)Ve(c[n],this,r);return!0};function Ke(t,e,r,n){var i,o,s;if(we(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=Ye(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,Dt(l)}return t}m.prototype.addListener=function(e,r){return Ke(this,e,r,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(e,r){return Ke(this,e,r,!0)};function Mt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ze(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Mt.bind(n);return i.listener=r,n.wrapFn=i,i}m.prototype.once=function(e,r){return we(r),this.on(e,ze(this,e,r)),this},m.prototype.prependOnceListener=function(e,r){return we(r),this.prependListener(e,ze(this,e,r)),this},m.prototype.removeListener=function(e,r){var n,i,o,s,l;if(we(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){l=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():jt(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||r)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Ze(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Rt(i):Je(i,i.length)}m.prototype.listeners=function(e){return Ze(this,e,!0)},m.prototype.rawListeners=function(e){return Ze(this,e,!1)},m.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Ge.call(t,e)},m.prototype.listenerCount=Ge;function Ge(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}m.prototype.eventNames=function(){return this._eventsCount>0?ye(this._events):[]};function Je(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function jt(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Rt(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Tt(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Qe(t,e,o,{once:!0}),e!=="error"&&Ht(t,i,{once:!0})})}function Ht(t,e,r){typeof t.on=="function"&&Qe(t,"error",e,r)}function Qe(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var et=B.exports;const Bt=K(et);var P="top",R="bottom",T="right",D="left",Se="auto",le=[P,R,T,D],re="start",ce="end",Nt="clippingParents",tt="viewport",ue="popper",Wt="reference",rt=le.reduce(function(t,e){return t.concat([e+"-"+re,e+"-"+ce])},[]),nt=[].concat(le,[Se]).reduce(function(t,e){return t.concat([e,e+"-"+re,e+"-"+ce])},[]),It="beforeRead",Ft="read",qt="afterRead",Vt="beforeMain",Ut="main",Xt="afterMain",Yt="beforeWrite",Kt="write",zt="afterWrite",Zt=[It,Ft,qt,Vt,Ut,Xt,Yt,Kt,zt];function F(t){return t?(t.nodeName||"").toLowerCase():null}function M(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function z(t){var e=M(t).Element;return t instanceof e||t instanceof Element}function H(t){var e=M(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ke(t){if(typeof ShadowRoot>"u")return!1;var e=M(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Gt(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!H(o)||!F(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function Jt(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),l=s.reduce(function(a,u){return a[u]="",a},{});!H(i)||!F(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(a){i.removeAttribute(a)}))})}}const Qt={name:"applyStyles",enabled:!0,phase:"write",fn:Gt,effect:Jt,requires:["computeStyles"]};function q(t){return t.split("-")[0]}var Z=Math.max,be=Math.min,ne=Math.round;function Pe(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function it(){return!/^((?!chrome|android).)*safari/i.test(Pe())}function ie(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&H(t)&&(i=t.offsetWidth>0&&ne(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&ne(n.height)/t.offsetHeight||1);var s=z(t)?M(t):window,l=s.visualViewport,a=!it()&&r,u=(n.left+(a&&l?l.offsetLeft:0))/i,c=(n.top+(a&&l?l.offsetTop:0))/o,d=n.width/i,g=n.height/o;return{width:d,height:g,top:c,right:u+d,bottom:c+g,left:u,x:u,y:c}}function De(t){var e=ie(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function ot(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&ke(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function V(t){return M(t).getComputedStyle(t)}function er(t){return["table","td","th"].indexOf(F(t))>=0}function X(t){return((z(t)?t.ownerDocument:t.document)||window.document).documentElement}function xe(t){return F(t)==="html"?t:t.assignedSlot||t.parentNode||(ke(t)?t.host:null)||X(t)}function st(t){return!H(t)||V(t).position==="fixed"?null:t.offsetParent}function tr(t){var e=/firefox/i.test(Pe()),r=/Trident/i.test(Pe());if(r&&H(t)){var n=V(t);if(n.position==="fixed")return null}var i=xe(t);for(ke(i)&&(i=i.host);H(i)&&["html","body"].indexOf(F(i))<0;){var o=V(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function fe(t){for(var e=M(t),r=st(t);r&&er(r)&&V(r).position==="static";)r=st(r);return r&&(F(r)==="html"||F(r)==="body"&&V(r).position==="static")?e:r||tr(t)||e}function Me(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function pe(t,e,r){return Z(t,be(e,r))}function rr(t,e,r){var n=pe(t,e,r);return n>r?r:n}function at(){return{top:0,right:0,bottom:0,left:0}}function lt(t){return Object.assign({},at(),t)}function ct(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var nr=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,lt(typeof e!="number"?e:ct(e,le))};function ir(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,l=q(r.placement),a=Me(l),u=[D,T].indexOf(l)>=0,c=u?"height":"width";if(!(!o||!s)){var d=nr(i.padding,r),g=De(o),f=a==="y"?P:D,b=a==="y"?R:T,v=r.rects.reference[c]+r.rects.reference[a]-s[a]-r.rects.popper[c],h=s[a]-r.rects.reference[a],x=fe(o),L=x?a==="y"?x.clientHeight||0:x.clientWidth||0:0,C=v/2-h/2,p=d[f],y=L-g[c]-d[b],w=L/2-g[c]/2+C,O=pe(p,w,y),A=a;r.modifiersData[n]=(e={},e[A]=O,e.centerOffset=O-w,e)}}function or(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||ot(e.elements.popper,i)&&(e.elements.arrow=i))}const sr={name:"arrow",enabled:!0,phase:"main",fn:ir,effect:or,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oe(t){return t.split("-")[1]}var ar={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lr(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:ne(r*i)/i||0,y:ne(n*i)/i||0}}function ut(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,a=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,g=s.x,f=g===void 0?0:g,b=s.y,v=b===void 0?0:b,h=typeof c=="function"?c({x:f,y:v}):{x:f,y:v};f=h.x,v=h.y;var x=s.hasOwnProperty("x"),L=s.hasOwnProperty("y"),C=D,p=P,y=window;if(u){var w=fe(r),O="clientHeight",A="clientWidth";if(w===M(r)&&(w=X(r),V(w).position!=="static"&&l==="absolute"&&(O="scrollHeight",A="scrollWidth")),w=w,i===P||(i===D||i===T)&&o===ce){p=R;var E=d&&w===y&&y.visualViewport?y.visualViewport.height:w[O];v-=E-n.height,v*=a?1:-1}if(i===D||(i===P||i===R)&&o===ce){C=T;var _=d&&w===y&&y.visualViewport?y.visualViewport.width:w[A];f-=_-n.width,f*=a?1:-1}}var S=Object.assign({position:l},u&&ar),W=c===!0?lr({x:f,y:v},M(r)):{x:f,y:v};if(f=W.x,v=W.y,a){var k;return Object.assign({},S,(k={},k[p]=L?"0":"",k[C]=x?"0":"",k.transform=(y.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",k))}return Object.assign({},S,(e={},e[p]=L?v+"px":"",e[C]=x?f+"px":"",e.transform="",e))}function cr(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,l=r.roundOffsets,a=l===void 0?!0:l,u={placement:q(e.placement),variation:oe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ut(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ut(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ur={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cr,data:{}};var $e={passive:!0};function fr(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,l=s===void 0?!0:s,a=M(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",r.update,$e)}),l&&a.addEventListener("resize",r.update,$e),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",r.update,$e)}),l&&a.removeEventListener("resize",r.update,$e)}}const pr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fr,data:{}};var dr={left:"right",right:"left",bottom:"top",top:"bottom"};function Oe(t){return t.replace(/left|right|bottom|top/g,function(e){return dr[e]})}var hr={start:"end",end:"start"};function ft(t){return t.replace(/start|end/g,function(e){return hr[e]})}function je(t){var e=M(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Re(t){return ie(X(t)).left+je(t).scrollLeft}function vr(t,e){var r=M(t),n=X(t),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;var u=it();(u||!u&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:l+Re(t),y:a}}function gr(t){var e,r=X(t),n=je(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Z(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Z(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-n.scrollLeft+Re(t),a=-n.scrollTop;return V(i||r).direction==="rtl"&&(l+=Z(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:a}}function Te(t){var e=V(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function pt(t){return["html","body","#document"].indexOf(F(t))>=0?t.ownerDocument.body:H(t)&&Te(t)?t:pt(xe(t))}function de(t,e){var r;e===void 0&&(e=[]);var n=pt(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=M(n),s=i?[o].concat(o.visualViewport||[],Te(n)?n:[]):n,l=e.concat(s);return i?l:l.concat(de(xe(s)))}function He(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mr(t,e){var r=ie(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function dt(t,e,r){return e===tt?He(vr(t,r)):z(e)?mr(e,r):He(gr(X(t)))}function yr(t){var e=de(xe(t)),r=["absolute","fixed"].indexOf(V(t).position)>=0,n=r&&H(t)?fe(t):t;return z(n)?e.filter(function(i){return z(i)&&ot(i,n)&&F(i)!=="body"}):[]}function wr(t,e,r,n){var i=e==="clippingParents"?yr(t):[].concat(e),o=[].concat(i,[r]),s=o[0],l=o.reduce(function(a,u){var c=dt(t,u,n);return a.top=Z(c.top,a.top),a.right=be(c.right,a.right),a.bottom=be(c.bottom,a.bottom),a.left=Z(c.left,a.left),a},dt(t,s,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ht(t){var e=t.reference,r=t.element,n=t.placement,i=n?q(n):null,o=n?oe(n):null,s=e.x+e.width/2-r.width/2,l=e.y+e.height/2-r.height/2,a;switch(i){case P:a={x:s,y:e.y-r.height};break;case R:a={x:s,y:e.y+e.height};break;case T:a={x:e.x+e.width,y:l};break;case D:a={x:e.x-r.width,y:l};break;default:a={x:e.x,y:e.y}}var u=i?Me(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case re:a[u]=a[u]-(e[c]/2-r[c]/2);break;case ce:a[u]=a[u]+(e[c]/2-r[c]/2);break}}return a}function he(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,s=o===void 0?t.strategy:o,l=r.boundary,a=l===void 0?Nt:l,u=r.rootBoundary,c=u===void 0?tt:u,d=r.elementContext,g=d===void 0?ue:d,f=r.altBoundary,b=f===void 0?!1:f,v=r.padding,h=v===void 0?0:v,x=lt(typeof h!="number"?h:ct(h,le)),L=g===ue?Wt:ue,C=t.rects.popper,p=t.elements[b?L:g],y=wr(z(p)?p:p.contextElement||X(t.elements.popper),a,c,s),w=ie(t.elements.reference),O=ht({reference:w,element:C,strategy:"absolute",placement:i}),A=He(Object.assign({},C,O)),E=g===ue?A:w,_={top:y.top-E.top+x.top,bottom:E.bottom-y.bottom+x.bottom,left:y.left-E.left+x.left,right:E.right-y.right+x.right},S=t.modifiersData.offset;if(g===ue&&S){var W=S[i];Object.keys(_).forEach(function(k){var G=[T,R].indexOf(k)>=0?1:-1,J=[P,R].indexOf(k)>=0?"y":"x";_[k]+=W[J]*G})}return _}function br(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,l=r.flipVariations,a=r.allowedAutoPlacements,u=a===void 0?nt:a,c=oe(n),d=c?l?rt:rt.filter(function(b){return oe(b)===c}):le,g=d.filter(function(b){return u.indexOf(b)>=0});g.length===0&&(g=d);var f=g.reduce(function(b,v){return b[v]=he(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[q(v)],b},{});return Object.keys(f).sort(function(b,v){return f[b]-f[v]})}function xr(t){if(q(t)===Se)return[];var e=Oe(t);return[ft(t),e,ft(e)]}function $r(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,l=s===void 0?!0:s,a=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,g=r.altBoundary,f=r.flipVariations,b=f===void 0?!0:f,v=r.allowedAutoPlacements,h=e.options.placement,x=q(h),L=x===h,C=a||(L||!b?[Oe(h)]:xr(h)),p=[h].concat(C).reduce(function(ae,Y){return ae.concat(q(Y)===Se?br(e,{placement:Y,boundary:c,rootBoundary:d,padding:u,flipVariations:b,allowedAutoPlacements:v}):Y)},[]),y=e.rects.reference,w=e.rects.popper,O=new Map,A=!0,E=p[0],_=0;_<p.length;_++){var S=p[_],W=q(S),k=oe(S)===re,G=[P,R].indexOf(W)>=0,J=G?"width":"height",j=he(e,{placement:S,boundary:c,rootBoundary:d,altBoundary:g,padding:u}),I=G?k?T:D:k?R:P;y[J]>w[J]&&(I=Oe(I));var Le=Oe(I),Q=[];if(o&&Q.push(j[W]<=0),l&&Q.push(j[I]<=0,j[Le]<=0),Q.every(function(ae){return ae})){E=S,A=!1;break}O.set(S,Q)}if(A)for(var Ce=b?3:1,We=function(Y){var me=p.find(function(Ee){var ee=O.get(Ee);if(ee)return ee.slice(0,Y).every(function(Ie){return Ie})});if(me)return E=me,"break"},ge=Ce;ge>0;ge--){var _e=We(ge);if(_e==="break")break}e.placement!==E&&(e.modifiersData[n]._skip=!0,e.placement=E,e.reset=!0)}}const Or={name:"flip",enabled:!0,phase:"main",fn:$r,requiresIfExists:["offset"],data:{_skip:!1}};function vt(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function gt(t){return[P,T,R,D].some(function(e){return t[e]>=0})}function Lr(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=he(e,{elementContext:"reference"}),l=he(e,{altBoundary:!0}),a=vt(s,n),u=vt(l,i,o),c=gt(a),d=gt(u);e.modifiersData[r]={referenceClippingOffsets:a,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Cr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Lr};function _r(t,e,r){var n=q(t),i=[D,P].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[D,T].indexOf(n)>=0?{x:l,y:s}:{x:s,y:l}}function Er(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,s=nt.reduce(function(c,d){return c[d]=_r(d,e.rects,o),c},{}),l=s[e.placement],a=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=s}const Ar={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Er};function Sr(t){var e=t.state,r=t.name;e.modifiersData[r]=ht({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const kr={name:"popperOffsets",enabled:!0,phase:"read",fn:Sr,data:{}};function Pr(t){return t==="x"?"y":"x"}function Dr(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,l=s===void 0?!1:s,a=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,g=r.tether,f=g===void 0?!0:g,b=r.tetherOffset,v=b===void 0?0:b,h=he(e,{boundary:a,rootBoundary:u,padding:d,altBoundary:c}),x=q(e.placement),L=oe(e.placement),C=!L,p=Me(x),y=Pr(p),w=e.modifiersData.popperOffsets,O=e.rects.reference,A=e.rects.popper,E=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,_=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(w){if(o){var k,G=p==="y"?P:D,J=p==="y"?R:T,j=p==="y"?"height":"width",I=w[p],Le=I+h[G],Q=I-h[J],Ce=f?-A[j]/2:0,We=L===re?O[j]:A[j],ge=L===re?-A[j]:-O[j],_e=e.elements.arrow,ae=f&&_e?De(_e):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:at(),me=Y[G],Ee=Y[J],ee=pe(0,O[j],ae[j]),Ie=C?O[j]/2-Ce-ee-me-_.mainAxis:We-ee-me-_.mainAxis,rn=C?-O[j]/2+Ce+ee+Ee+_.mainAxis:ge+ee+Ee+_.mainAxis,Fe=e.elements.arrow&&fe(e.elements.arrow),nn=Fe?p==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,Ot=(k=S==null?void 0:S[p])!=null?k:0,on=I+Ie-Ot-nn,sn=I+rn-Ot,Lt=pe(f?be(Le,on):Le,I,f?Z(Q,sn):Q);w[p]=Lt,W[p]=Lt-I}if(l){var Ct,an=p==="x"?P:D,ln=p==="x"?R:T,te=w[y],Ae=y==="y"?"height":"width",_t=te+h[an],Et=te-h[ln],qe=[P,D].indexOf(x)!==-1,At=(Ct=S==null?void 0:S[y])!=null?Ct:0,St=qe?_t:te-O[Ae]-A[Ae]-At+_.altAxis,kt=qe?te+O[Ae]+A[Ae]-At-_.altAxis:Et,Pt=f&&qe?rr(St,te,kt):pe(f?St:_t,te,f?kt:Et);w[y]=Pt,W[y]=Pt-te}e.modifiersData[n]=W}}const Mr={name:"preventOverflow",enabled:!0,phase:"main",fn:Dr,requiresIfExists:["offset"]};function jr(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Rr(t){return t===M(t)||!H(t)?je(t):jr(t)}function Tr(t){var e=t.getBoundingClientRect(),r=ne(e.width)/t.offsetWidth||1,n=ne(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Hr(t,e,r){r===void 0&&(r=!1);var n=H(e),i=H(e)&&Tr(e),o=X(e),s=ie(t,i,r),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!r)&&((F(e)!=="body"||Te(o))&&(l=Rr(e)),H(e)?(a=ie(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):o&&(a.x=Re(o))),{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}function Br(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!r.has(l)){var a=e.get(l);a&&i(a)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function Nr(t){var e=Br(t);return Zt.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Wr(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Ir(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var mt={placement:"bottom",modifiers:[],strategy:"absolute"};function yt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Fr(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?mt:i;return function(l,a,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},mt,o),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},d=[],g=!1,f={state:c,setOptions:function(x){var L=typeof x=="function"?x(c.options):x;v(),c.options=Object.assign({},o,c.options,L),c.scrollParents={reference:z(l)?de(l):l.contextElement?de(l.contextElement):[],popper:de(a)};var C=Nr(Ir([].concat(n,c.options.modifiers)));return c.orderedModifiers=C.filter(function(p){return p.enabled}),b(),f.update()},forceUpdate:function(){if(!g){var x=c.elements,L=x.reference,C=x.popper;if(yt(L,C)){c.rects={reference:Hr(L,fe(C),c.options.strategy==="fixed"),popper:De(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(_){return c.modifiersData[_.name]=Object.assign({},_.data)});for(var p=0;p<c.orderedModifiers.length;p++){if(c.reset===!0){c.reset=!1,p=-1;continue}var y=c.orderedModifiers[p],w=y.fn,O=y.options,A=O===void 0?{}:O,E=y.name;typeof w=="function"&&(c=w({state:c,options:A,name:E,instance:f})||c)}}}},update:Wr(function(){return new Promise(function(h){f.forceUpdate(),h(c)})}),destroy:function(){v(),g=!0}};if(!yt(l,a))return f;f.setOptions(u).then(function(h){!g&&u.onFirstUpdate&&u.onFirstUpdate(h)});function b(){c.orderedModifiers.forEach(function(h){var x=h.name,L=h.options,C=L===void 0?{}:L,p=h.effect;if(typeof p=="function"){var y=p({state:c,name:x,instance:f,options:C}),w=function(){};d.push(y||w)}})}function v(){d.forEach(function(h){return h()}),d=[]}return f}}var qr=[pr,kr,ur,Qt,Ar,Or,Mr,sr,Cr],Vr=Fr({defaultModifiers:qr});const Ur=([t,e,r,n])=>{const i=Math.max(t,e,r),o=i-Math.min(t,e,r),s=o&&(i==t?(e-r)/o:i==e?2+(r-t)/o:4+(t-e)/o);return[60*(s<0?s+6:s),i&&o/i,i,n]},wt=t=>t.replace(/[^0-9%.,]/g,"").split(",").map(e=>parseFloat(e)/(e.endsWith("%")?100:1)),Xr=t=>{const e=document.createElement("span");e.style.display="none",e.style.color=t,document.body.append(e);const{color:r}=getComputedStyle(e);if(e.remove(),!r)return null;const[n,i,o,s]=wt(r);return Ur([n/255,i/255,o/255,s])},Yr=t=>{const e=wt(t).map((r,n)=>Math.min(r,n?1:255));return e.length<3||e.some(r=>isNaN(r))?null:e},bt=t=>{let e;/^hsva?\(/i.test(t)?e="hsv":/^hsla?\(/i.test(t)?e="hsl":/^rgba?\(/i.test(t)?e="rgb":e="hex";const r=e==="hsv"?Yr(t):Xr(t);if(!r)throw new Error("Color could not be parsed!");return r[3]=r[3]??1,{color:r,format:e}},se=t=>t.toFixed(),Kr=(t,e)=>(""+ +t.toFixed(e)).replace(/^0\./g,"."),zr=([t,e,r,n])=>{const i=r-r*e/2,o=Math.min(i,1-i);return[t,o?(r-i)/o:0,i,n]},xt=([t,e,r,n])=>{const i=(o,s=(o+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1),n]},Be=([t,e,r,n],i)=>{const o=n<1?"a":"",s=i.startsWith("hs")?[se(t),se(e*100)+"%",se(r*100)+"%"]:[se(t*255),se(e*255),se(r*255)];return o&&s.push(Kr(n,2)),`${i}${o}(${s.join()})`},Zr=t=>"#"+t.slice(0,t[3]<1?4:3).map(e=>Math.round(e*255).toString(16).padStart(2,"0")).join(""),Gr=(t,e)=>e==="hsv"?Be(t,e):e==="hsl"?Be(zr(t),e):e==="rgb"?Be(xt(t),e):Zr(xt(t));class U{constructor(e){$(this,"color");if(!e)this.color=[0,0,0,1];else if(e instanceof U)this.color=[...e.color];else if(Array.isArray(e)){const[r=0,n=0,i=0,o=1]=e;this.color=[r,n,i,o]}else this.color=bt(e).color}getSet(e,r){if(r===void 0)return this.color[e];const n=[...this.color];return n[e]=r,new U(n)}hue(e){return this.getSet(0,e)}saturation(e){return this.getSet(1,e)}value(e){return this.getSet(2,e)}alpha(e){return this.getSet(3,e)}string(e){return Gr(this.color,e)}toString(){return this.string("hex")}clone(){return new U(this)}}class Ne extends Bt{constructor(r){super();$(this,"x",0);$(this,"y",0);$(this,"$track");$(this,"$thumb");this.$track=r,this.$thumb=r.querySelector(".cp_thumb"),this.$track.addEventListener("pointerdown",n=>{this.$track.setPointerCapture(n.pointerId),this.handleDrag(n),n.preventDefault()}),this.$track.addEventListener("pointermove",n=>{this.$track.hasPointerCapture(n.pointerId)&&(this.handleDrag(n),n.preventDefault())}),this.$track.addEventListener("pointerup",n=>{this.$track.releasePointerCapture(n.pointerId),this.$thumb.focus(),n.preventDefault()}),this.$track.addEventListener("keydown",n=>{n.key==="ArrowLeft"?(this.handleNudge(-1,0,n.shiftKey),n.preventDefault()):n.key==="ArrowRight"?(this.handleNudge(1,0,n.shiftKey),n.preventDefault()):n.key==="ArrowUp"?(this.handleNudge(0,-1,n.shiftKey),n.preventDefault()):n.key==="ArrowDown"&&(this.handleNudge(0,1,n.shiftKey),n.preventDefault())})}handleDrag(r){const n=this.$track.getBoundingClientRect();this.fireDrag((r.clientX-n.x)/n.width,(r.clientY-n.y)/n.height)}handleNudge(r,n,i){const o=i?.1:.01;this.fireDrag(this.x+r*o,this.y+n*o)}fireDrag(r,n){r<0?r=0:r>1&&(r=1),n<0?n=0:n>1&&(n=1),this.emit("drag",r,n)}move(r,n){r!==void 0&&(this.x=r,this.$thumb.style.left=`${r*100}%`),n!==void 0&&(this.y=n,this.$thumb.style.top=`${n*100}%`)}}const Jr={headless:!1,toggleStyle:"button",container:null,defaultColor:null,swatches:null,swatchesOnly:!1,enableAlpha:!0,enableEyedropper:!0,formats:["hex","rgb","hsv","hsl"],defaultFormat:"hex",submitMode:"confirm",showClearButton:!0,dismissOnOutsideClick:!0,dismissOnEscape:!0,dialogPlacement:"top",dialogOffset:8},$t=t=>t?t instanceof HTMLElement?t:document.querySelector(t):null,Qr='<div class=cp_dialog><div class="cp_area cp_area-hsv"><div class=cp_thumb tabindex=0></div></div><div class=cp_dialog-inner><div class="cp_slider cp_slider-hue"><div class=cp_thumb tabindex=0></div></div><div class="cp_slider cp_slider-alpha"><div class=cp_thumb tabindex=0></div></div><div class=cp_swatches></div><div class=cp_formats></div><div class=cp_input-group><div class=cp_sample></div><input autocomplete=false class=cp_value spellcheck=false value=#ff0000> <button class="cp_action cp_eyedrop"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="m207.8 87.6l-25.37 25.53l4.89 4.88a16 16 0 0 1 0 22.64l-9 9a8 8 0 0 1-11.32 0l-60.68-60.7a8 8 0 0 1 0-11.32l9-9a16 16 0 0 1 22.63 0l4.88 4.89l25-25.11c10.79-10.79 28.37-11.45 39.45-1a28 28 0 0 1 .52 40.19"opacity=0.2 /><path d="M224 67.3a35.8 35.8 0 0 0-11.26-25.66c-14-13.28-36.72-12.78-50.62 1.13L142.8 62.2a24 24 0 0 0-33.14.77l-9 9a16 16 0 0 0 0 22.64l2 2.06l-51 51a39.75 39.75 0 0 0-10.53 38l-8 18.41A13.68 13.68 0 0 0 36 219.3a15.92 15.92 0 0 0 17.71 3.35L71.23 215a39.89 39.89 0 0 0 37.06-10.75l51-51l2.06 2.06a16 16 0 0 0 22.62 0l9-9a24 24 0 0 0 .74-33.18l19.75-19.87A35.75 35.75 0 0 0 224 67.3M97 193a24 24 0 0 1-24 6a8 8 0 0 0-5.55.31l-18.1 7.91L57 189.41a8 8 0 0 0 .25-5.75A23.88 23.88 0 0 1 63 159l51-51l33.94 34ZM202.13 82l-25.37 25.52a8 8 0 0 0 0 11.3l4.89 4.89a8 8 0 0 1 0 11.32l-9 9L112 83.26l9-9a8 8 0 0 1 11.31 0l4.89 4.89a8 8 0 0 0 5.65 2.34a8 8 0 0 0 5.66-2.36l24.94-25.09c7.81-7.82 20.5-8.18 28.29-.81a20 20 0 0 1 .39 28.7Z"/></g></svg></button> <button class="cp_action cp_clear"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="M224 56v144a8 8 0 0 1-8 8H68.53a8 8 0 0 1-6.86-3.88L16 128l45.67-76.12A8 8 0 0 1 68.53 48H216a8 8 0 0 1 8 8"opacity=0.2 /><path d="M216 40H68.53a16.08 16.08 0 0 0-13.72 7.77L9.14 123.88a8 8 0 0 0 0 8.24l45.67 76.11A16.08 16.08 0 0 0 68.53 216H216a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M61.67 204.12l6.86-4.12ZM216 200H68.53l-43.2-72l43.2-72H216Zm-109.66-53.66L124.69 128l-18.35-18.34a8 8 0 0 1 11.32-11.32L136 116.69l18.34-18.35a8 8 0 0 1 11.32 11.32L147.31 128l18.35 18.34a8 8 0 0 1-11.32 11.32L136 139.31l-18.34 18.35a8 8 0 0 1-11.32-11.32"/></g></svg></button> <button class="cp_action cp_submit"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="m237.66 85.26l-128.4 128.4a8 8 0 0 1-11.32 0l-71.6-72a8 8 0 0 1 0-11.31l24-24a8 8 0 0 1 11.32 0L104 147.43l98.34-97.09a8 8 0 0 1 11.32 0l24 23.6a8 8 0 0 1 0 11.32"opacity=0.2 /><path d="m243.28 68.24l-24-23.56a16 16 0 0 0-22.59 0L104 136.23l-36.69-35.6a16 16 0 0 0-22.58.05l-24 24a16 16 0 0 0 0 22.61l71.62 72a16 16 0 0 0 22.63 0L243.33 90.91a16 16 0 0 0-.05-22.67M103.62 208L32 136l24-24a.6.6 0 0 1 .08.08l42.35 41.09a8 8 0 0 0 11.19 0L208.06 56L232 79.6Z"/></g></svg></button></div></div></div>',en='<div class=cp_caret><svg height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><path d="M208.49 120.49a12 12 0 0 1-17 0L140 69v147a12 12 0 0 1-24 0V69l-51.51 51.49a12 12 0 0 1-17-17l72-72a12 12 0 0 1 17 0l72 72a12 12 0 0 1 0 17"fill=currentColor /></svg></div>';let ve;class tn extends et.EventEmitter{constructor(r,n={}){super();$(this,"_open",!1);$(this,"_unset",!0);$(this,"_format");$(this,"_color");$(this,"_newColor");$(this,"config");$(this,"popper");$(this,"isInput");$(this,"$toggle");$(this,"$dialog");$(this,"$button");$(this,"$input");$(this,"changeHandler");$(this,"clickHandler");$(this,"hsvSlider");$(this,"hueSlider");$(this,"alphaSlider");$(this,"$formats");$(this,"$colorInput");this.config={...Jr,...n},r=$t(r)??document.createElement("button"),this.$toggle=r;const i=this.config.defaultColor||r.value||r.dataset.color||void 0;this.config.headless||this.createToggle(r),this._setCurrentColor(new U(i),!1),i||this.clear(!1),this.config.dismissOnOutsideClick&&window.addEventListener("pointerdown",o=>{if(!this._open)return;const s=o.target;!s.closest(".cp_dialog")&&!s.closest(".color-picker")&&this.close()}),this.config.dismissOnEscape&&window.addEventListener("keydown",o=>{if(o.key==="Escape"){const s=document.querySelector(":focus");(!s||s.closest(".cp_dialog"))&&this.close();return}}),this.close()}get isOpen(){return this._open}get color(){return this._unset?null:this._color}get selectedColor(){return this._newColor}get format(){return this._format}get element(){return this.$toggle}createToggle(r){const n=r instanceof HTMLInputElement;this.isInput=n,this.$toggle=n?document.createElement("button"):r,this.$input=n?r:document.createElement("input"),this.isInput&&r.type=="color"&&(r.type="text"),r.replaceWith(this.$toggle),this.$input.tabIndex=-1,this.$input.readOnly=!0,this.$input.classList.add("cp_input"),this.config.toggleStyle==="input"&&this.$toggle.classList.add("cp_wide"),this.$button=document.createElement("div"),this.$button.classList.add("cp_button"),this.$button.innerHTML=en,this.$toggle.classList.add("color-picker"),this.$toggle.setAttribute("type","button"),this.$toggle.append(this.$input,this.$button),this.changeHandler=()=>this.setColor(this.$input.value),this.clickHandler=()=>this.toggle(),this.$input.addEventListener("change",this.changeHandler),this.$toggle.addEventListener("click",this.clickHandler)}toggle(r=!this._open,n=!0){r?this.open(n):this.close(n)}open(r=!0){var i;if(this._open)return;this._open=!0,ve==null||ve.close(),ve=this;const n=$t(this.config.container)??document.body;n.insertAdjacentHTML("beforeend",Qr),this.$dialog=n.lastElementChild,this.$colorInput=this.$dialog.querySelector(".cp_value"),this.populateDialog(),this.bindDialog(),this.setFormat(this.config.defaultFormat,!1),this.updateColor(),this.popper=Vr(this.$toggle,this.$dialog,{placement:this.config.dialogPlacement,strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,this.config.dialogOffset]}}]}),this.$colorInput.focus({preventScroll:!0}),(i=this.$button)==null||i.classList.add("cp_open"),setTimeout(()=>this.$dialog.classList.add("cp_open")),r&&(this.emit("open"),setTimeout(()=>this.emit("opened"),this.getAnimationDuration()))}prompt(r=!1){return new Promise(n=>{let i=null;this.on("pick",o=>i=o),this.once("close",()=>n(i)),r&&this.once("closed",()=>this.destroy()),this.open()})}populateDialog(){if(this.config.swatches){const r=this.config.swatches.map(n=>{const i=document.createElement("button");i.className="cp_swatch",i.style.setProperty("--cp-color",n),i.dataset.color=n;const o=new U(i.dataset.color);return i.addEventListener("click",()=>{this._setNewColor(o),this.config.swatchesOnly&&this.close()}),i});this.$dialog.querySelector(".cp_swatches").append(...r)}this.config.formats&&(this.$formats=this.config.formats.map(r=>{const n=document.createElement("button");return n.className="cp_format",n.dataset.format=r,n.textContent=r.toUpperCase(),n.addEventListener("click",()=>this.setFormat(r)),n}),this.$dialog.querySelector(".cp_formats").append(...this.$formats))}bindDialog(){const r=this.$dialog.querySelector(".cp_area-hsv");this.hsvSlider=new Ne(r),this.hsvSlider.on("drag",(a,u)=>{this._setNewColor(this._newColor.saturation(a).value(1-u))});const n=this.$dialog.querySelector(".cp_slider-hue");this.hueSlider=new Ne(n),this.hueSlider.on("drag",a=>{this._setNewColor(this._newColor.hue(a*360))});const i=this.$dialog.querySelector(".cp_slider-alpha");this.config.enableAlpha?(this.alphaSlider=new Ne(i),this.alphaSlider.on("drag",a=>{this._setNewColor(this._newColor.alpha(a),!0)})):i.remove();const o=this.$dialog.querySelector(".cp_eyedrop");this.config.enableEyedropper&&"EyeDropper"in window?o.addEventListener("click",()=>{new EyeDropper().open().then(a=>{const u=new U(a.sRGBHex);this._setNewColor(u)}).catch(()=>{})}):o.remove();const s=this.$dialog.querySelector(".cp_submit");this.config.submitMode==="confirm"?s.addEventListener("click",()=>this.submit()):s.remove();const l=this.$dialog.querySelector(".cp_clear");if(this.config.showClearButton?l.addEventListener("click",()=>{this.clear(),this.close()}):l.remove(),this.$colorInput.addEventListener("input",()=>{try{const{color:a,format:u}=bt(this.$colorInput.value);this.setFormat(u,!1),this._setNewColor(new U(a),!1)}catch{}}),this.$colorInput.addEventListener("keydown",a=>{a.key==="Enter"&&this.submit()}),this.$colorInput.addEventListener("dblclick",()=>{navigator.clipboard&&navigator.clipboard.writeText(this.$colorInput.value)}),this.config.swatchesOnly){const a=this.$dialog.querySelector(".cp_input-group");a&&a.remove();const u=this.$dialog.querySelector(".cp_formats");u&&u.remove(),n&&n.remove(),r&&r.remove(),i&&i.remove()}}getAnimationDuration(){const n=window.getComputedStyle(this.$toggle).getPropertyValue("--cp-delay");return parseFloat(n)*(n.endsWith("ms")?1:1e3)}close(r=!0){var o;if(!this._open)return;this._open=!1,ve=void 0,(o=this.$button)==null||o.classList.remove("cp_open");const n=this.$dialog,i=this.popper;this.$dialog=void 0,this.popper=void 0,n==null||n.classList.remove("cp_open"),setTimeout(()=>{n==null||n.remove(),i==null||i.destroy(),r&&this.emit("closed")},this.getAnimationDuration()),r&&this.emit("close")}submit(r=this._newColor,n=!0){this._setCurrentColor(r),this.close(n)}destroy(){var r;if(this.close(),(r=this.$dialog)==null||r.remove(),this.isInput){if(!this.$input)return;this.$toggle.removeChild(this.$input),this.$toggle.replaceWith(this.$input),this.$input.classList.remove("cp_input"),this.$input.removeAttribute("tabindex"),this.$input.removeAttribute("readonly"),this.changeHandler&&this.$input.removeEventListener("change",this.changeHandler)}else{if(!this.$toggle)return;this.$toggle.classList.remove("color-picker","cp_open"),this.$toggle.removeAttribute("data-color"),this.$toggle.removeAttribute("type"),this.$toggle.textContent="",this.clickHandler&&this.$toggle.removeEventListener("click",this.clickHandler)}}clear(r=!0){this._unset=!0,this.updateAppliedColor(r)}setColor(r,n=!0){if(!r)return this.clear(n);this._setCurrentColor(new U(r),n)}setFormat(r,n=!0){this._format=r,this.updateFormat(),n&&(this.updateColor(),this.updateAppliedColor(!1))}_setNewColor(r,n=!0){if(this.config.submitMode==="instant"||this.config.swatchesOnly)return this._setCurrentColor(r,!0,n);this._newColor=r,this.updateColor(n)}_setCurrentColor(r,n=!0,i=!0){this._unset=!1,this._newColor=this._color=r,this.updateColor(i),this.updateAppliedColor(n)}updateColor(r=!0){var o,s,l,a,u,c,d,g,f,b;const n=((o=this.color)==null?void 0:o.toString())??"transparent",i=this._newColor.string("hex");(s=this.$dialog)==null||s.style.setProperty("--cp-base-color",i.substring(0,7)),(l=this.$button)==null||l.style.setProperty("--cp-current-color",n),(a=this.$dialog)==null||a.style.setProperty("--cp-current-color",n),(u=this.$dialog)==null||u.style.setProperty("--cp-color",i),(c=this.$dialog)==null||c.style.setProperty("--cp-hue",this._newColor.hue().toString()),(d=this.$dialog)==null||d.style.setProperty("--cp-alpha",this._newColor.alpha().toString()),(g=this.hsvSlider)==null||g.move(this._newColor.saturation(),1-this._newColor.value()),(f=this.hueSlider)==null||f.move(this._newColor.hue()/360),(b=this.alphaSlider)==null||b.move(this._newColor.alpha()),r&&this.$colorInput&&(this.$colorInput.value=this._newColor.string(this._format))}updateAppliedColor(r=!0){const n=this._unset?"":this._color.string(this.config.defaultFormat);this.$input&&(this.$input.value=n),this.$toggle&&(this.$toggle.dataset.color=n),this.$button&&this.$button.classList.toggle("cp_unset",this._unset),r&&this.emit("pick",this.color)}updateFormat(){if(!this.$formats)return;this.$formats.forEach(n=>n.removeAttribute("aria-checked"));const r=this.$formats.find(n=>n.dataset.format===this._format);r&&(r.ariaChecked="true")}}return tn}();

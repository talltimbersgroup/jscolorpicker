"use strict";var ColorPicker=function(){"use strict";var At=Object.defineProperty,Dt=(t,e,n)=>e in t?At(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e,n)=>Dt(t,typeof e!="symbol"?e+"":e,n);function Mt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ee={exports:{}},Q=typeof Reflect=="object"?Reflect:null,Fe=Q&&typeof Q.apply=="function"?Q.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},ve;Q&&typeof Q.ownKeys=="function"?ve=Q.ownKeys:Object.getOwnPropertySymbols?ve=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ve=function(t){return Object.getOwnPropertyNames(t)};function jt(t){console&&console.warn&&console.warn(t)}var Ie=Number.isNaN||function(t){return t!==t};function m(){m.init.call(this)}Ee.exports=m,Ee.exports.once=Nt,m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var Ve=10;function me(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return Ve},set:function(t){if(typeof t!="number"||t<0||Ie(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ve=t}}),m.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ie(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ue(t){return t._maxListeners===void 0?m.defaultMaxListeners:t._maxListeners}m.prototype.getMaxListeners=function(){return Ue(this)},m.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i=t==="error",r=this._events;if(r!==void 0)i=i&&r.error===void 0;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=r[t];if(a===void 0)return!1;if(typeof a=="function")Fe(a,this,e);else for(var l=a.length,c=Ge(a,l),n=0;n<l;++n)Fe(c[n],this,e);return!0};function Ze(t,e,n,i){var r,o,s;if(me(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),r=Ue(t),r>0&&s.length>r&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,jt(a)}return t}m.prototype.addListener=function(t,e){return Ze(this,t,e,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(t,e){return Ze(this,t,e,!0)};function Pt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ke(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=Pt.bind(i);return r.listener=n,i.wrapFn=r,r}m.prototype.once=function(t,e){return me(e),this.on(t,Ke(this,t,e)),this},m.prototype.prependOnceListener=function(t,e){return me(e),this.prependListener(t,Ke(this,t,e)),this},m.prototype.removeListener=function(t,e){var n,i,r,o,s;if(me(e),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;r===0?n.shift():Ht(n,r),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||e)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var r=Object.keys(n),o;for(i=0;i<r.length;++i)o=r[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this};function ze(t,e,n){var i=t._events;if(i===void 0)return[];var r=i[e];return r===void 0?[]:typeof r=="function"?n?[r.listener||r]:[r]:n?Tt(r):Ge(r,r.length)}m.prototype.listeners=function(t){return ze(this,t,!0)},m.prototype.rawListeners=function(t){return ze(this,t,!1)},m.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Xe.call(t,e)},m.prototype.listenerCount=Xe;function Xe(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}m.prototype.eventNames=function(){return this._eventsCount>0?ve(this._events):[]};function Ge(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function Ht(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Tt(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Nt(t,e){return new Promise(function(n,i){function r(s){t.removeListener(e,o),i(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",r),n([].slice.call(arguments))}Ye(t,e,o,{once:!0}),e!=="error"&&Rt(t,r,{once:!0})})}function Rt(t,e,n){typeof t.on=="function"&&Ye(t,"error",e,n)}function Ye(t,e,n,i){if(typeof t.on=="function")i.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function r(o){i.once&&t.removeEventListener(e,r),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Je=Ee.exports;const Wt=Mt(Je);var D="top",H="bottom",T="right",M="left",Se="auto",se=[D,H,T,M],ee="start",ae="end",qt="clippingParents",Qe="viewport",le="popper",Bt="reference",et=se.reduce(function(t,e){return t.concat([e+"-"+ee,e+"-"+ae])},[]),tt=[].concat(se,[Se]).reduce(function(t,e){return t.concat([e,e+"-"+ee,e+"-"+ae])},[]),Ft="beforeRead",It="read",Vt="afterRead",Ut="beforeMain",Zt="main",Kt="afterMain",zt="beforeWrite",Xt="write",Gt="afterWrite",Yt=[Ft,It,Vt,Ut,Zt,Kt,zt,Xt,Gt];function q(t){return t?(t.nodeName||"").toLowerCase():null}function j(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Z(t){var e=j(t).Element;return t instanceof e||t instanceof Element}function N(t){var e=j(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ke(t){if(typeof ShadowRoot>"u")return!1;var e=j(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Jt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!N(o)||!q(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Qt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!N(r)||!q(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}const en={name:"applyStyles",enabled:!0,phase:"write",fn:Jt,effect:Qt,requires:["computeStyles"]};function B(t){return t.split("-")[0]}var K=Math.max,ge=Math.min,te=Math.round;function Ae(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nt(){return!/^((?!chrome|android).)*safari/i.test(Ae())}function ne(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&N(t)&&(r=t.offsetWidth>0&&te(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&te(i.height)/t.offsetHeight||1);var s=Z(t)?j(t):window,a=s.visualViewport,l=!nt()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,d=i.width/r,h=i.height/o;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function De(t){var e=ne(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function it(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ke(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function F(t){return j(t).getComputedStyle(t)}function tn(t){return["table","td","th"].indexOf(q(t))>=0}function U(t){return((Z(t)?t.ownerDocument:t.document)||window.document).documentElement}function ye(t){return q(t)==="html"?t:t.assignedSlot||t.parentNode||(ke(t)?t.host:null)||U(t)}function rt(t){return!N(t)||F(t).position==="fixed"?null:t.offsetParent}function nn(t){var e=/firefox/i.test(Ae()),n=/Trident/i.test(Ae());if(n&&N(t)){var i=F(t);if(i.position==="fixed")return null}var r=ye(t);for(ke(r)&&(r=r.host);N(r)&&["html","body"].indexOf(q(r))<0;){var o=F(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function ce(t){for(var e=j(t),n=rt(t);n&&tn(n)&&F(n).position==="static";)n=rt(n);return n&&(q(n)==="html"||q(n)==="body"&&F(n).position==="static")?e:n||nn(t)||e}function Me(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ue(t,e,n){return K(t,ge(e,n))}function rn(t,e,n){var i=ue(t,e,n);return i>n?n:i}function ot(){return{top:0,right:0,bottom:0,left:0}}function st(t){return Object.assign({},ot(),t)}function at(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var on=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,st(typeof t!="number"?t:at(t,se))};function sn(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=B(n.placement),l=Me(a),c=[M,T].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=on(r.padding,n),h=De(o),f=l==="y"?D:M,w=l==="y"?H:T,p=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],x=ce(o),L=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,O=p/2-y/2,v=d[f],g=L-h[u]-d[w],_=L/2-h[u]/2+O,$=ue(v,_,g),C=l;n.modifiersData[i]=(e={},e[C]=$,e.centerOffset=$-_,e)}}function an(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||it(e.elements.popper,r)&&(e.elements.arrow=r))}const ln={name:"arrow",enabled:!0,phase:"main",fn:sn,effect:an,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ie(t){return t.split("-")[1]}var cn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function un(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:te(n*r)/r||0,y:te(i*r)/r||0}}function lt(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,f=h===void 0?0:h,w=s.y,p=w===void 0?0:w,y=typeof u=="function"?u({x:f,y:p}):{x:f,y:p};f=y.x,p=y.y;var x=s.hasOwnProperty("x"),L=s.hasOwnProperty("y"),O=M,v=D,g=window;if(c){var _=ce(n),$="clientHeight",C="clientWidth";if(_===j(n)&&(_=U(n),F(_).position!=="static"&&a==="absolute"&&($="scrollHeight",C="scrollWidth")),_=_,r===D||(r===M||r===T)&&o===ae){v=H;var E=d&&_===g&&g.visualViewport?g.visualViewport.height:_[$];p-=E-i.height,p*=l?1:-1}if(r===M||(r===D||r===H)&&o===ae){O=T;var S=d&&_===g&&g.visualViewport?g.visualViewport.width:_[C];f-=S-i.width,f*=l?1:-1}}var k=Object.assign({position:a},c&&cn),R=u===!0?un({x:f,y:p},j(n)):{x:f,y:p};if(f=R.x,p=R.y,l){var A;return Object.assign({},k,(A={},A[v]=L?"0":"",A[O]=x?"0":"",A.transform=(g.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",A))}return Object.assign({},k,(e={},e[v]=L?p+"px":"",e[O]=x?f+"px":"",e.transform="",e))}function pn(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:B(e.placement),variation:ie(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,lt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,lt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const fn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pn,data:{}};var be={passive:!0};function hn(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=j(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,be)}),a&&l.addEventListener("resize",n.update,be),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,be)}),a&&l.removeEventListener("resize",n.update,be)}}const dn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hn,data:{}};var vn={left:"right",right:"left",bottom:"top",top:"bottom"};function we(t){return t.replace(/left|right|bottom|top/g,function(e){return vn[e]})}var mn={start:"end",end:"start"};function ct(t){return t.replace(/start|end/g,function(e){return mn[e]})}function je(t){var e=j(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Pe(t){return ne(U(t)).left+je(t).scrollLeft}function gn(t,e){var n=j(t),i=U(t),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=nt();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Pe(t),y:l}}function yn(t){var e,n=U(t),i=je(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=K(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=K(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Pe(t),l=-i.scrollTop;return F(r||n).direction==="rtl"&&(a+=K(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function He(t){var e=F(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function ut(t){return["html","body","#document"].indexOf(q(t))>=0?t.ownerDocument.body:N(t)&&He(t)?t:ut(ye(t))}function pe(t,e){var n;e===void 0&&(e=[]);var i=ut(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=j(i),s=r?[o].concat(o.visualViewport||[],He(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(pe(ye(s)))}function Te(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function bn(t,e){var n=ne(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function pt(t,e,n){return e===Qe?Te(gn(t,n)):Z(e)?bn(e,n):Te(yn(U(t)))}function wn(t){var e=pe(ye(t)),n=["absolute","fixed"].indexOf(F(t).position)>=0,i=n&&N(t)?ce(t):t;return Z(i)?e.filter(function(r){return Z(r)&&it(r,i)&&q(r)!=="body"}):[]}function xn(t,e,n,i){var r=e==="clippingParents"?wn(t):[].concat(e),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(l,c){var u=pt(t,c,i);return l.top=K(u.top,l.top),l.right=ge(u.right,l.right),l.bottom=ge(u.bottom,l.bottom),l.left=K(u.left,l.left),l},pt(t,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ft(t){var e=t.reference,n=t.element,i=t.placement,r=i?B(i):null,o=i?ie(i):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case D:l={x:s,y:e.y-n.height};break;case H:l={x:s,y:e.y+e.height};break;case T:l={x:e.x+e.width,y:a};break;case M:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?Me(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case ee:l[c]=l[c]-(e[u]/2-n[u]/2);break;case ae:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function fe(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?qt:a,c=n.rootBoundary,u=c===void 0?Qe:c,d=n.elementContext,h=d===void 0?le:d,f=n.altBoundary,w=f===void 0?!1:f,p=n.padding,y=p===void 0?0:p,x=st(typeof y!="number"?y:at(y,se)),L=h===le?Bt:le,O=t.rects.popper,v=t.elements[w?L:h],g=xn(Z(v)?v:v.contextElement||U(t.elements.popper),l,u,s),_=ne(t.elements.reference),$=ft({reference:_,element:O,strategy:"absolute",placement:r}),C=Te(Object.assign({},O,$)),E=h===le?C:_,S={top:g.top-E.top+x.top,bottom:E.bottom-g.bottom+x.bottom,left:g.left-E.left+x.left,right:E.right-g.right+x.right},k=t.modifiersData.offset;if(h===le&&k){var R=k[r];Object.keys(S).forEach(function(A){var z=[T,H].indexOf(A)>=0?1:-1,X=[D,H].indexOf(A)>=0?"y":"x";S[A]+=R[X]*z})}return S}function _n(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?tt:l,u=ie(i),d=u?a?et:et.filter(function(w){return ie(w)===u}):se,h=d.filter(function(w){return c.indexOf(w)>=0});h.length===0&&(h=d);var f=h.reduce(function(w,p){return w[p]=fe(t,{placement:p,boundary:r,rootBoundary:o,padding:s})[B(p)],w},{});return Object.keys(f).sort(function(w,p){return f[w]-f[p]})}function Ln(t){if(B(t)===Se)return[];var e=we(t);return[ct(t),e,ct(e)]}function On(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,w=f===void 0?!0:f,p=n.allowedAutoPlacements,y=e.options.placement,x=B(y),L=x===y,O=l||(L||!w?[we(y)]:Ln(y)),v=[y].concat(O).reduce(function(Y,V){return Y.concat(B(V)===Se?_n(e,{placement:V,boundary:u,rootBoundary:d,padding:c,flipVariations:w,allowedAutoPlacements:p}):V)},[]),g=e.rects.reference,_=e.rects.popper,$=new Map,C=!0,E=v[0],S=0;S<v.length;S++){var k=v[S],R=B(k),A=ie(k)===ee,z=[D,H].indexOf(R)>=0,X=z?"width":"height",P=fe(e,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),W=z?A?T:M:A?H:D;g[X]>_[X]&&(W=we(W));var _e=we(W),G=[];if(o&&G.push(P[R]<=0),a&&G.push(P[W]<=0,P[_e]<=0),G.every(function(Y){return Y})){E=k,C=!1;break}$.set(k,G)}if(C)for(var Le=w?3:1,We=function(Y){var V=v.find(function($e){var de=$.get($e);if(de)return de.slice(0,Y).every(function(oe){return oe})});if(V)return E=V,"break"},he=Le;he>0;he--){var Oe=We(he);if(Oe==="break")break}e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}}const $n={name:"flip",enabled:!0,phase:"main",fn:On,requiresIfExists:["offset"],data:{_skip:!1}};function ht(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dt(t){return[D,T,H,M].some(function(e){return t[e]>=0})}function Cn(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=fe(e,{elementContext:"reference"}),a=fe(e,{altBoundary:!0}),l=ht(s,i),c=ht(a,r,o),u=dt(l),d=dt(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const En={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Cn};function Sn(t,e,n){var i=B(t),r=[M,D].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[M,T].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function kn(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,s=tt.reduce(function(u,d){return u[d]=Sn(d,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}const An={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kn};function Dn(t){var e=t.state,n=t.name;e.modifiersData[n]=ft({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Mn={name:"popperOffsets",enabled:!0,phase:"read",fn:Dn,data:{}};function jn(t){return t==="x"?"y":"x"}function Pn(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,w=n.tetherOffset,p=w===void 0?0:w,y=fe(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),x=B(e.placement),L=ie(e.placement),O=!L,v=Me(x),g=jn(v),_=e.modifiersData.popperOffsets,$=e.rects.reference,C=e.rects.popper,E=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,S=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(_){if(o){var A,z=v==="y"?D:M,X=v==="y"?H:T,P=v==="y"?"height":"width",W=_[v],_e=W+y[z],G=W-y[X],Le=f?-C[P]/2:0,We=L===ee?$[P]:C[P],he=L===ee?-C[P]:-$[P],Oe=e.elements.arrow,Y=f&&Oe?De(Oe):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ot(),$e=V[z],de=V[X],oe=ue(0,$[P],Y[P]),ri=O?$[P]/2-Le-oe-$e-S.mainAxis:We-oe-$e-S.mainAxis,oi=O?-$[P]/2+Le+oe+de+S.mainAxis:he+oe+de+S.mainAxis,qe=e.elements.arrow&&ce(e.elements.arrow),si=qe?v==="y"?qe.clientTop||0:qe.clientLeft||0:0,xt=(A=k?.[v])!=null?A:0,ai=W+ri-xt-si,li=W+oi-xt,_t=ue(f?ge(_e,ai):_e,W,f?K(G,li):G);_[v]=_t,R[v]=_t-W}if(a){var Lt,ci=v==="x"?D:M,ui=v==="x"?H:T,J=_[g],Ce=g==="y"?"height":"width",Ot=J+y[ci],$t=J-y[ui],Be=[D,M].indexOf(x)!==-1,Ct=(Lt=k?.[g])!=null?Lt:0,Et=Be?Ot:J-$[Ce]-C[Ce]-Ct+S.altAxis,St=Be?J+$[Ce]+C[Ce]-Ct-S.altAxis:$t,kt=f&&Be?rn(Et,J,St):ue(f?Et:Ot,J,f?St:$t);_[g]=kt,R[g]=kt-J}e.modifiersData[i]=R}}const Hn={name:"preventOverflow",enabled:!0,phase:"main",fn:Pn,requiresIfExists:["offset"]};function Tn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Nn(t){return t===j(t)||!N(t)?je(t):Tn(t)}function Rn(t){var e=t.getBoundingClientRect(),n=te(e.width)/t.offsetWidth||1,i=te(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Wn(t,e,n){n===void 0&&(n=!1);var i=N(e),r=N(e)&&Rn(e),o=U(e),s=ne(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((q(e)!=="body"||He(o))&&(a=Nn(e)),N(e)?(l=ne(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Pe(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function qn(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function Bn(t){var e=qn(t);return Yt.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function Fn(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function In(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var vt={placement:"bottom",modifiers:[],strategy:"absolute"};function mt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Vn(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?vt:r;return function(s,a,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},vt,o),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},u=[],d=!1,h={state:c,setOptions:function(p){var y=typeof p=="function"?p(c.options):p;w(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:Z(s)?pe(s):s.contextElement?pe(s.contextElement):[],popper:pe(a)};var x=Bn(In([].concat(i,c.options.modifiers)));return c.orderedModifiers=x.filter(function(L){return L.enabled}),f(),h.update()},forceUpdate:function(){if(!d){var p=c.elements,y=p.reference,x=p.popper;if(mt(y,x)){c.rects={reference:Wn(y,ce(x),c.options.strategy==="fixed"),popper:De(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var L=0;L<c.orderedModifiers.length;L++){if(c.reset===!0){c.reset=!1,L=-1;continue}var O=c.orderedModifiers[L],v=O.fn,g=O.options,_=g===void 0?{}:g,$=O.name;typeof v=="function"&&(c=v({state:c,options:_,name:$,instance:h})||c)}}}},update:Fn(function(){return new Promise(function(p){h.forceUpdate(),p(c)})}),destroy:function(){w(),d=!0}};if(!mt(s,a))return h;h.setOptions(l).then(function(p){!d&&l.onFirstUpdate&&l.onFirstUpdate(p)});function f(){c.orderedModifiers.forEach(function(p){var y=p.name,x=p.options,L=x===void 0?{}:x,O=p.effect;if(typeof O=="function"){var v=O({state:c,name:y,instance:h,options:L}),g=function(){};u.push(v||g)}})}function w(){u.forEach(function(p){return p()}),u=[]}return h}}var Un=[dn,Mn,fn,en,An,$n,Hn,ln,En],Zn=Vn({defaultModifiers:Un});const Kn=([t,e,n,i])=>{const r=Math.max(t,e,n),o=r-Math.min(t,e,n),s=o&&(r==t?(e-n)/o:r==e?2+(n-t)/o:4+(t-e)/o);return[60*(s<0?s+6:s),r&&o/r,r,i]},gt=t=>t.replace(/[^0-9%.,]/g,"").split(",").map(e=>parseFloat(e)/(e.endsWith("%")?100:1)),zn=t=>{const e=document.createElement("span");e.style.display="none",e.style.color=t,document.body.append(e);const{color:n}=getComputedStyle(e);if(e.remove(),!n)return null;const[i,r,o,s]=gt(n);return Kn([i/255,r/255,o/255,s])},Xn=t=>{const e=gt(t).map((n,i)=>Math.min(n,i?1:255));return e.length<3||e.some(n=>isNaN(n))?null:e},yt=t=>{let e;/^hsva?\(/i.test(t)?e="hsv":/^hsla?\(/i.test(t)?e="hsl":/^rgba?\(/i.test(t)?e="rgb":e="hex";const n=e==="hsv"?Xn(t):zn(t);if(!n)throw new Error("Color could not be parsed!");return n[3]=n[3]??1,{color:n,format:e}},re=t=>t.toFixed(),Gn=(t,e)=>(""+ +t.toFixed(e)).replace(/^0\./g,"."),Yn=([t,e,n,i])=>{const r=n-n*e/2,o=Math.min(r,1-r);return[t,o?(n-r)/o:0,r,i]},bt=([t,e,n,i])=>{const r=(o,s=(o+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1),i]},Ne=([t,e,n,i],r)=>{const o=i<1?"a":"",s=r.startsWith("hs")?[re(t),re(e*100)+"%",re(n*100)+"%"]:[re(t*255),re(e*255),re(n*255)];return o&&s.push(Gn(i,2)),`${r}${o}(${s.join()})`},Jn=t=>"#"+t.slice(0,t[3]<1?4:3).map(e=>Math.round(e*255).toString(16).padStart(2,"0")).join(""),Qn=(t,e)=>e==="hsv"?Ne(t,e):e==="hsl"?Ne(Yn(t),e):e==="rgb"?Ne(bt(t),e):Jn(bt(t));class I{constructor(e){if(b(this,"color"),!e)this.color=[0,0,0,1];else if(e instanceof I)this.color=[...e.color];else if(Array.isArray(e)){const[n=0,i=0,r=0,o=1]=e;this.color=[n,i,r,o]}else this.color=yt(e).color}getSet(e,n){if(n===void 0)return this.color[e];const i=[...this.color];return i[e]=n,new I(i)}hue(e){return this.getSet(0,e)}saturation(e){return this.getSet(1,e)}value(e){return this.getSet(2,e)}alpha(e){return this.getSet(3,e)}string(e){return Qn(this.color,e)}toString(){return this.string("hex")}clone(){return new I(this)}}class Re extends Wt{constructor(e){super(),b(this,"x",0),b(this,"y",0),b(this,"$track"),b(this,"$thumb"),this.$track=e,this.$thumb=e.querySelector(".cp_thumb"),this.$track.addEventListener("pointerdown",n=>{this.$track.setPointerCapture(n.pointerId),this.handleDrag(n),n.preventDefault()}),this.$track.addEventListener("pointermove",n=>{this.$track.hasPointerCapture(n.pointerId)&&(this.handleDrag(n),n.preventDefault())}),this.$track.addEventListener("pointerup",n=>{this.$track.releasePointerCapture(n.pointerId),this.$thumb.focus(),n.preventDefault()}),this.$track.addEventListener("keydown",n=>{n.key==="ArrowLeft"?(this.handleNudge(-1,0,n.shiftKey),n.preventDefault()):n.key==="ArrowRight"?(this.handleNudge(1,0,n.shiftKey),n.preventDefault()):n.key==="ArrowUp"?(this.handleNudge(0,-1,n.shiftKey),n.preventDefault()):n.key==="ArrowDown"&&(this.handleNudge(0,1,n.shiftKey),n.preventDefault())})}handleDrag(e){const n=this.$track.getBoundingClientRect();this.fireDrag((e.clientX-n.x)/n.width,(e.clientY-n.y)/n.height)}handleNudge(e,n,i){const r=i?.1:.01;this.fireDrag(this.x+e*r,this.y+n*r)}fireDrag(e,n){e<0?e=0:e>1&&(e=1),n<0?n=0:n>1&&(n=1),this.emit("drag",e,n)}move(e,n){e!==void 0&&(this.x=e,this.$thumb.style.left=`${e*100}%`),n!==void 0&&(this.y=n,this.$thumb.style.top=`${n*100}%`)}}const ei={headless:!1,toggleStyle:"button",container:null,defaultColor:null,swatches:null,swatchesOnly:!1,enableAlpha:!0,enableEyedropper:!0,formats:["hex","rgb","hsv","hsl"],defaultFormat:"hex",submitMode:"confirm",showClearButton:!0,dismissOnOutsideClick:!0,dismissOnEscape:!0,dialogPlacement:"top",dialogOffset:8},wt=t=>t?t instanceof HTMLElement?t:document.querySelector(t):null,ti='<div class=cp_dialog><div class="cp_area cp_area-hsv"><div class=cp_thumb tabindex=0></div></div><div class=cp_dialog-inner><div class="cp_slider cp_slider-hue"><div class=cp_thumb tabindex=0></div></div><div class="cp_slider cp_slider-alpha"><div class=cp_thumb tabindex=0></div></div><div class=cp_swatches></div><div class=cp_formats></div><div class=cp_input-group><div class=cp_sample></div><input autocomplete=false class=cp_value spellcheck=false value=#ff0000> <button class="cp_action cp_eyedrop"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="m207.8 87.6l-25.37 25.53l4.89 4.88a16 16 0 0 1 0 22.64l-9 9a8 8 0 0 1-11.32 0l-60.68-60.7a8 8 0 0 1 0-11.32l9-9a16 16 0 0 1 22.63 0l4.88 4.89l25-25.11c10.79-10.79 28.37-11.45 39.45-1a28 28 0 0 1 .52 40.19"opacity=0.2 /><path d="M224 67.3a35.8 35.8 0 0 0-11.26-25.66c-14-13.28-36.72-12.78-50.62 1.13L142.8 62.2a24 24 0 0 0-33.14.77l-9 9a16 16 0 0 0 0 22.64l2 2.06l-51 51a39.75 39.75 0 0 0-10.53 38l-8 18.41A13.68 13.68 0 0 0 36 219.3a15.92 15.92 0 0 0 17.71 3.35L71.23 215a39.89 39.89 0 0 0 37.06-10.75l51-51l2.06 2.06a16 16 0 0 0 22.62 0l9-9a24 24 0 0 0 .74-33.18l19.75-19.87A35.75 35.75 0 0 0 224 67.3M97 193a24 24 0 0 1-24 6a8 8 0 0 0-5.55.31l-18.1 7.91L57 189.41a8 8 0 0 0 .25-5.75A23.88 23.88 0 0 1 63 159l51-51l33.94 34ZM202.13 82l-25.37 25.52a8 8 0 0 0 0 11.3l4.89 4.89a8 8 0 0 1 0 11.32l-9 9L112 83.26l9-9a8 8 0 0 1 11.31 0l4.89 4.89a8 8 0 0 0 5.65 2.34a8 8 0 0 0 5.66-2.36l24.94-25.09c7.81-7.82 20.5-8.18 28.29-.81a20 20 0 0 1 .39 28.7Z"/></g></svg></button> <button class="cp_action cp_clear"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="M224 56v144a8 8 0 0 1-8 8H68.53a8 8 0 0 1-6.86-3.88L16 128l45.67-76.12A8 8 0 0 1 68.53 48H216a8 8 0 0 1 8 8"opacity=0.2 /><path d="M216 40H68.53a16.08 16.08 0 0 0-13.72 7.77L9.14 123.88a8 8 0 0 0 0 8.24l45.67 76.11A16.08 16.08 0 0 0 68.53 216H216a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M61.67 204.12l6.86-4.12ZM216 200H68.53l-43.2-72l43.2-72H216Zm-109.66-53.66L124.69 128l-18.35-18.34a8 8 0 0 1 11.32-11.32L136 116.69l18.34-18.35a8 8 0 0 1 11.32 11.32L147.31 128l18.35 18.34a8 8 0 0 1-11.32 11.32L136 139.31l-18.34 18.35a8 8 0 0 1-11.32-11.32"/></g></svg></button> <button class="cp_action cp_submit"><svg class=cp_icon height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><g fill=currentColor><path d="m237.66 85.26l-128.4 128.4a8 8 0 0 1-11.32 0l-71.6-72a8 8 0 0 1 0-11.31l24-24a8 8 0 0 1 11.32 0L104 147.43l98.34-97.09a8 8 0 0 1 11.32 0l24 23.6a8 8 0 0 1 0 11.32"opacity=0.2 /><path d="m243.28 68.24l-24-23.56a16 16 0 0 0-22.59 0L104 136.23l-36.69-35.6a16 16 0 0 0-22.58.05l-24 24a16 16 0 0 0 0 22.61l71.62 72a16 16 0 0 0 22.63 0L243.33 90.91a16 16 0 0 0-.05-22.67M103.62 208L32 136l24-24a.6.6 0 0 1 .08.08l42.35 41.09a8 8 0 0 0 11.19 0L208.06 56L232 79.6Z"/></g></svg></button></div></div></div>',ni='<div class=cp_caret><svg height=1em viewBox="0 0 256 256"width=1em xmlns=http://www.w3.org/2000/svg><path d="M208.49 120.49a12 12 0 0 1-17 0L140 69v147a12 12 0 0 1-24 0V69l-51.51 51.49a12 12 0 0 1-17-17l72-72a12 12 0 0 1 17 0l72 72a12 12 0 0 1 0 17"fill=currentColor /></svg></div>';let xe;class ii extends Je.EventEmitter{constructor(e,n={}){super(),b(this,"_open",!1),b(this,"_unset",!0),b(this,"_format"),b(this,"_color"),b(this,"_newColor"),b(this,"_swatches"),b(this,"config"),b(this,"popper"),b(this,"isInput"),b(this,"$toggle"),b(this,"$dialog"),b(this,"$button"),b(this,"$input"),b(this,"changeHandler"),b(this,"clickHandler"),b(this,"hsvSlider"),b(this,"hueSlider"),b(this,"alphaSlider"),b(this,"$formats"),b(this,"$colorInput"),this.config={...ei,...n},e=wt(e)??document.createElement("button"),this.$toggle=e;const i=this.config.defaultColor||e.value||e.dataset.color||void 0;this.config.headless||this.createToggle(e),this._setCurrentColor(new I(i),!1),i||this.clear(!1),this.setSwatches(this.config.swatches),this.config.dismissOnOutsideClick&&window.addEventListener("pointerdown",r=>{if(!this._open)return;const o=r.target;!o.closest(".cp_dialog")&&!o.closest(".color-picker")&&this.close()}),this.config.dismissOnEscape&&window.addEventListener("keydown",r=>{if(r.key==="Escape"){const o=document.querySelector(":focus");(!o||o.closest(".cp_dialog"))&&this.close();return}}),this.close()}get isOpen(){return this._open}get color(){return this._unset?null:this._color}get swatches(){return this._swatches}get selectedColor(){return this._newColor}get format(){return this._format}get element(){return this.$toggle}createToggle(e){const n=e instanceof HTMLInputElement;this.isInput=n,this.$toggle=n?document.createElement("button"):e,this.$input=n?e:document.createElement("input"),this.isInput&&e.type=="color"&&(e.type="text"),e.replaceWith(this.$toggle),this.$input.tabIndex=-1,this.$input.readOnly=!0,this.$input.classList.add("cp_input"),this.config.toggleStyle==="input"&&this.$toggle.classList.add("cp_wide"),this.$button=document.createElement("div"),this.$button.classList.add("cp_button"),this.$button.innerHTML=ni,this.$toggle.classList.add("color-picker"),this.$toggle.setAttribute("type","button"),this.$toggle.append(this.$input,this.$button),this.changeHandler=()=>this.setColor(this.$input.value),this.clickHandler=()=>this.toggle(),this.$input.addEventListener("change",this.changeHandler),this.$toggle.addEventListener("click",this.clickHandler)}appendTo(e){e.append(this.element)}setSwatches(e){this._swatches=e||[],this.updateSwatches()}toggle(e=!this._open,n=!0){e?this.open(n):this.close(n)}open(e=!0){var n;if(this._open)return;this._open=!0,xe?.close(),xe=this;const i=wt(this.config.container)??document.body;i.insertAdjacentHTML("beforeend",ti),this.$dialog=i.lastElementChild,this.$colorInput=this.$dialog.querySelector(".cp_value"),this.populateDialog(),this.updateSwatches(),this.bindDialog(),this.setFormat(this.config.defaultFormat,!1),this.updateColor(),this.popper=Zn(this.$toggle,this.$dialog,{placement:this.config.dialogPlacement,strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,this.config.dialogOffset]}}]}),this.$colorInput.focus({preventScroll:!0}),(n=this.$button)==null||n.classList.add("cp_open"),setTimeout(()=>this.$dialog.classList.add("cp_open")),e&&(this.emit("open"),setTimeout(()=>this.emit("opened"),this.getAnimationDuration()))}prompt(e=!1){return new Promise(n=>{let i=null;this.on("pick",r=>i=r),this.once("close",()=>n(i)),e&&this.once("closed",()=>this.destroy()),this.open()})}populateDialog(){this.config.formats&&(this.$formats=this.config.formats.map(e=>{const n=document.createElement("button");return n.className="cp_format",n.dataset.format=e,n.textContent=e.toUpperCase(),n.addEventListener("click",()=>this.setFormat(e)),n}),this.$dialog.querySelector(".cp_formats").append(...this.$formats))}bindDialog(){const e=this.$dialog.querySelector(".cp_area-hsv");this.hsvSlider=new Re(e),this.hsvSlider.on("drag",(a,l)=>{this._setNewColor(this._newColor.saturation(a).value(1-l))});const n=this.$dialog.querySelector(".cp_slider-hue");this.hueSlider=new Re(n),this.hueSlider.on("drag",a=>{this._setNewColor(this._newColor.hue(a*360))});const i=this.$dialog.querySelector(".cp_slider-alpha");this.config.enableAlpha?(this.alphaSlider=new Re(i),this.alphaSlider.on("drag",a=>{this._setNewColor(this._newColor.alpha(a),!0)})):i.remove();const r=this.$dialog.querySelector(".cp_eyedrop");this.config.enableEyedropper&&"EyeDropper"in window?r.addEventListener("click",()=>{new EyeDropper().open().then(a=>{const l=new I(a.sRGBHex);this._setNewColor(l)}).catch(()=>{})}):r.remove();const o=this.$dialog.querySelector(".cp_submit");this.config.submitMode==="confirm"?o.addEventListener("click",()=>this.submit()):o.remove();const s=this.$dialog.querySelector(".cp_clear");if(this.config.showClearButton?s.addEventListener("click",()=>{this.clear(),this.close()}):s.remove(),this.$colorInput.addEventListener("input",()=>{try{const{color:a,format:l}=yt(this.$colorInput.value);this.setFormat(l,!1),this._setNewColor(new I(a),!1)}catch{}}),this.$colorInput.addEventListener("keydown",a=>{a.key==="Enter"&&this.submit()}),this.$colorInput.addEventListener("dblclick",()=>{navigator.clipboard&&navigator.clipboard.writeText(this.$colorInput.value)}),this.config.swatchesOnly){const a=this.$dialog.querySelector(".cp_input-group");a&&a.remove();const l=this.$dialog.querySelector(".cp_formats");l&&l.remove(),n&&n.remove(),e&&e.remove(),i&&i.remove()}}getAnimationDuration(){const e=window.getComputedStyle(this.$toggle).getPropertyValue("--cp-delay");return parseFloat(e)*(e.endsWith("ms")?1:1e3)}close(e=!0){var n;if(!this._open)return;this._open=!1,xe=void 0,(n=this.$button)==null||n.classList.remove("cp_open");const i=this.$dialog,r=this.popper;this.$dialog=void 0,this.popper=void 0,i?.classList.remove("cp_open"),setTimeout(()=>{i?.remove(),r?.destroy(),e&&this.emit("closed")},this.getAnimationDuration()),e&&this.emit("close")}submit(e=this._newColor,n=!0){this._setCurrentColor(e),this.close(n)}destroy(){var e;if(this.close(),(e=this.$dialog)==null||e.remove(),this.isInput){if(!this.$input)return;this.$toggle.removeChild(this.$input),this.$toggle.replaceWith(this.$input),this.$input.classList.remove("cp_input"),this.$input.removeAttribute("tabindex"),this.$input.removeAttribute("readonly"),this.changeHandler&&this.$input.removeEventListener("change",this.changeHandler)}else{if(!this.$toggle)return;this.$toggle.classList.remove("color-picker","cp_open"),this.$toggle.removeAttribute("data-color"),this.$toggle.removeAttribute("type"),this.$toggle.textContent="",this.clickHandler&&this.$toggle.removeEventListener("click",this.clickHandler)}}clear(e=!0){this._unset=!0,this.updateAppliedColor(e)}setColor(e,n=!0){if(!e)return this.clear(n);this._setCurrentColor(new I(e),n)}setFormat(e,n=!0){this._format=e,this.updateFormat(),n&&(this.updateColor(),this.updateAppliedColor(!1))}_setNewColor(e,n=!0){if(this.config.submitMode==="instant"||this.config.swatchesOnly)return this._setCurrentColor(e,!0,n);this._newColor=e,this.updateColor(n)}_setCurrentColor(e,n=!0,i=!0){this._unset=!1,this._newColor=this._color=e,this.updateColor(i),this.updateAppliedColor(n)}updateColor(e=!0){var n,i,r,o,s,a,l,c,u,d;const h=((n=this.color)==null?void 0:n.toString())??"transparent",f=this._newColor.string("hex");(i=this.$dialog)==null||i.style.setProperty("--cp-base-color",f.substring(0,7)),(r=this.$button)==null||r.style.setProperty("--cp-current-color",h),(o=this.$dialog)==null||o.style.setProperty("--cp-current-color",h),(s=this.$dialog)==null||s.style.setProperty("--cp-color",f),(a=this.$dialog)==null||a.style.setProperty("--cp-hue",this._newColor.hue().toString()),(l=this.$dialog)==null||l.style.setProperty("--cp-alpha",this._newColor.alpha().toString()),(c=this.hsvSlider)==null||c.move(this._newColor.saturation(),1-this._newColor.value()),(u=this.hueSlider)==null||u.move(this._newColor.hue()/360),(d=this.alphaSlider)==null||d.move(this._newColor.alpha()),e&&this.$colorInput&&(this.$colorInput.value=this._newColor.string(this._format))}updateAppliedColor(e=!0){const n=this._unset?"":this._color.string(this.config.defaultFormat);this.$input&&(this.$input.value=n),this.$toggle&&(this.$toggle.dataset.color=n),this.$button&&this.$button.classList.toggle("cp_unset",this._unset),e&&this.emit("pick",this.color)}updateFormat(){if(!this.$formats)return;this.$formats.forEach(n=>n.removeAttribute("aria-checked"));const e=this.$formats.find(n=>n.dataset.format===this._format);e&&(e.ariaChecked="true")}updateSwatches(){if(!this.$dialog)return;const e=this.$dialog.querySelector(".cp_swatches");e.textContent="",this._swatches.forEach(n=>{const i=document.createElement("button");i.className="cp_swatch",i.style.setProperty("--cp-color",n),i.dataset.color=n;const r=new I(i.dataset.color);i.addEventListener("click",()=>{this._setNewColor(r),this.config.swatchesOnly&&this.close()}),e.append(i)})}}return ii}();
